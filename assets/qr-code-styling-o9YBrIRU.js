import{a as Sr,A as xr,d as Ar,e as kr,f as Or,h as Rr,i as Ir,j as Tr,k as Er,l as Cr,m as Br,n as Pr,o as Fr,p as Nr,q as qr,r as Lr,s as Dr,t as zr,u as jr,v as Wr,w as Ur,D as Hr,E as Gr,x as $r,I as Kr,y as Vr,z as Qr,K as Jr,L as Zr,B as Xr,C as Yr,M as tn,F as en,O as rn,S as nn,G as on,H as sn,T as an,J as un,N as fn,P as hn,Q as cn,R as ln,U as dn,V as pn,W as gn,X as mn,Y as vn,Z as yn,$ as wn,a0 as _n,a1 as Mn,a2 as bn,a3 as Sn,a4 as xn,a5 as An,a6 as kn,a7 as On,a8 as Rn,a9 as In,aa as Tn,ab as En,ac as Cn,ad as Bn,ae as Pn,af as Fn,ag as Nn,ah as qn,ai as Ln,aj as Dn,ak as zn,al as jn,am as Wn,an as Un,ao as Hn,ap as Gn,aq as $n,ar as Kn,as as Vn,at as Qn,au as Jn,av as Zn,aw as Xn,ax as Yn,ay as ti,az as ei,aA as ri,aB as ni,aC as ii,aD as oi,aE as si,aF as ai,aG as ui,aH as fi,aI as hi,aJ as ci,aK as li,aL as di,aM as pi,aN as gi,aO as mi,aP as vi,aQ as yi,aR as wi,aS as _i,aT as Mi,aU as bi,aV as Si,aW as xi,aX as Ai,aY as ki,aZ as Oi,a_ as Ri,a$ as Ii,b0 as Ti,b1 as Ei,b2 as Ci,b3 as Bi,b4 as Pi,b5 as Fi,b6 as Ni,b7 as qi,b8 as Li,b9 as Di,ba as zi,c as Te,bb as Je,g as Ze}from"./index-DxQ2fk7C.js";import{p as ji,s as Wi,a as Ui,d as Hi,c as ue}from"./format-DMa376I5.js";const Gi=Object.freeze(Object.defineProperty({__proto__:null,ABIAddressType:xr,ABIArrayDynamicType:Ar,ABIArrayStaticType:kr,ABIBoolType:Or,ABIByteType:Rr,ABIContract:Ir,ABIInterface:Tr,ABIMethod:Er,get ABIReferenceType(){return Cr},ABIStringType:Br,get ABITransactionType(){return Pr},ABITupleType:Fr,ABIType:Nr,ABIUfixedType:qr,ABIUintType:Lr,ADDR_BYTE_SIZE:Dr,ALGORAND_MIN_TX_FEE:zr,Algodv2:jr,AtomicTransactionComposer:Wr,get AtomicTransactionComposerStatus(){return Ur},DryrunResult:Hr,ERROR_INVALID_MICROALGOS:Gr,ERROR_MULTISIG_BAD_SENDER:$r,INVALID_MICROALGOS_ERROR_MSG:Kr,Indexer:Vr,IntDecoding:Qr,Kmd:Jr,LENGTH_ENCODE_BYTE_SIZE:Zr,LogicSig:Xr,LogicSigAccount:Yr,MAX_LEN:tn,MULTISIG_BAD_SENDER_ERROR_MSG:en,get OnApplicationComplete(){return rn},SINGLE_BOOL_SIZE:nn,SINGLE_BYTE_SIZE:on,SourceMap:sn,Transaction:an,get TransactionType(){return un},abiCheckTransactionType:fn,abiTypeIsReference:hn,abiTypeIsTransaction:cn,algosToMicroalgos:ln,appendSignMultisigTransaction:dn,appendSignRawMultisigSignature:pn,assignGroupID:gn,bigIntToBytes:mn,bytesToBigInt:vn,computeGroupID:yn,createDryrun:wn,createMultisigTransaction:_n,decodeAddress:Mn,decodeObj:bn,decodeSignedTransaction:Sn,decodeUint64:xn,decodeUnsignedTransaction:An,default:Sr,encodeAddress:kn,encodeObj:On,encodeUint64:Rn,encodeUnsignedSimulateTransaction:In,encodeUnsignedTransaction:Tn,generateAccount:En,getApplicationAddress:Cn,getMethodByName:Bn,indexerModels:Pn,instantiateTxnIfNeeded:Fn,isTransactionWithSigner:Nn,isValidAddress:qn,logicSigFromByte:Ln,makeApplicationCallTxnFromObject:Dn,makeApplicationClearStateTxn:zn,makeApplicationClearStateTxnFromObject:jn,makeApplicationCloseOutTxn:Wn,makeApplicationCloseOutTxnFromObject:Un,makeApplicationCreateTxn:Hn,makeApplicationCreateTxnFromObject:Gn,makeApplicationDeleteTxn:$n,makeApplicationDeleteTxnFromObject:Kn,makeApplicationNoOpTxn:Vn,makeApplicationNoOpTxnFromObject:Qn,makeApplicationOptInTxn:Jn,makeApplicationOptInTxnFromObject:Zn,makeApplicationUpdateTxn:Xn,makeApplicationUpdateTxnFromObject:Yn,makeAssetConfigTxnWithSuggestedParams:ti,makeAssetConfigTxnWithSuggestedParamsFromObject:ei,makeAssetCreateTxnWithSuggestedParams:ri,makeAssetCreateTxnWithSuggestedParamsFromObject:ni,makeAssetDestroyTxnWithSuggestedParams:ii,makeAssetDestroyTxnWithSuggestedParamsFromObject:oi,makeAssetFreezeTxnWithSuggestedParams:si,makeAssetFreezeTxnWithSuggestedParamsFromObject:ai,makeAssetTransferTxnWithSuggestedParams:ui,makeAssetTransferTxnWithSuggestedParamsFromObject:fi,makeBasicAccountTransactionSigner:hi,makeEmptyTransactionSigner:ci,makeKeyRegistrationTxnWithSuggestedParams:li,makeKeyRegistrationTxnWithSuggestedParamsFromObject:di,makeLogicSigAccountTransactionSigner:pi,makeMultiSigAccountTransactionSigner:gi,makePaymentTxnWithSuggestedParams:mi,makePaymentTxnWithSuggestedParamsFromObject:vi,masterDerivationKeyToMnemonic:yi,mergeMultisigTransactions:wi,microalgosToAlgos:_i,mnemonicFromSeed:Mi,mnemonicToMasterDerivationKey:bi,mnemonicToSecretKey:Si,modelsv2:xi,multisigAddress:Ai,secretKeyToMnemonic:ki,seedFromMnemonic:Oi,signBid:Ri,signBytes:Ii,signLogicSigTransaction:Ti,signLogicSigTransactionObject:Ei,signMultisigTransaction:Ci,signTransaction:Bi,tealSign:Pi,tealSignFromProgram:Fi,verifyBytes:Ni,verifyMultisig:qi,verifyTealSign:Li,waitForConfirmation:Di},Symbol.toStringTag,{value:"Module"}));var Ee={},xt={};Object.defineProperty(xt,"__esModule",{value:!0});var Xe=xt.getLocalStorage=xt.getLocalStorageOrThrow=xt.getCrypto=xt.getCryptoOrThrow=tr=xt.getLocation=xt.getLocationOrThrow=Ye=xt.getNavigator=xt.getNavigatorOrThrow=xt.getDocument=xt.getDocumentOrThrow=xt.getFromWindowOrThrow=xt.getFromWindow=void 0;function ee(c){let i;return typeof window<"u"&&typeof window[c]<"u"&&(i=window[c]),i}xt.getFromWindow=ee;function oe(c){const i=ee(c);if(!i)throw new Error(`${c} is not defined in Window`);return i}xt.getFromWindowOrThrow=oe;function $i(){return oe("document")}xt.getDocumentOrThrow=$i;function Ki(){return ee("document")}xt.getDocument=Ki;function Vi(){return oe("navigator")}xt.getNavigatorOrThrow=Vi;function Qi(){return ee("navigator")}var Ye=xt.getNavigator=Qi;function Ji(){return oe("location")}xt.getLocationOrThrow=Ji;function Zi(){return ee("location")}var tr=xt.getLocation=Zi;function Xi(){return oe("crypto")}xt.getCryptoOrThrow=Xi;function Yi(){return ee("crypto")}xt.getCrypto=Yi;function to(){return oe("localStorage")}xt.getLocalStorageOrThrow=to;function eo(){return ee("localStorage")}Xe=xt.getLocalStorage=eo;Object.defineProperty(Ee,"__esModule",{value:!0});var er=Ee.getWindowMetadata=void 0;const ze=xt;function ro(){let c,i;try{c=ze.getDocumentOrThrow(),i=ze.getLocationOrThrow()}catch{return null}function y(){const R=c.getElementsByTagName("link"),et=[];for(let H=0;H<R.length;H++){const D=R[H],G=D.getAttribute("rel");if(G&&G.toLowerCase().indexOf("icon")>-1){const P=D.getAttribute("href");if(P)if(P.toLowerCase().indexOf("https:")===-1&&P.toLowerCase().indexOf("http:")===-1&&P.indexOf("//")!==0){let N=i.protocol+"//"+i.host;if(P.indexOf("/")===0)N+=P;else{const K=i.pathname.split("/");K.pop();const U=K.join("/");N+=U+"/"+P}et.push(N)}else if(P.indexOf("//")===0){const N=i.protocol+P;et.push(N)}else et.push(P)}}return et}function S(...R){const et=c.getElementsByTagName("meta");for(let H=0;H<et.length;H++){const D=et[H],G=["itemprop","property","name"].map(P=>D.getAttribute(P)).filter(P=>P?R.includes(P):!1);if(G.length&&G){const P=D.getAttribute("content");if(P)return P}}return""}function B(){let R=S("name","og:site_name","og:title","twitter:title");return R||(R=c.title),R}function g(){return S("description","og:description","twitter:description","keywords")}const C=B(),F=g(),W=i.origin,w=y();return{description:F,url:W,icons:w,name:C}}er=Ee.getWindowMetadata=ro;var no=function(){for(var c=0,i=0,y=arguments.length;i<y;i++)c+=arguments[i].length;for(var S=Array(c),B=0,i=0;i<y;i++)for(var g=arguments[i],C=0,F=g.length;C<F;C++,B++)S[B]=g[C];return S},io=function(){function c(i,y,S){this.name=i,this.version=y,this.os=S,this.type="browser"}return c}(),oo=function(){function c(i){this.version=i,this.type="node",this.name="node",this.os=process.platform}return c}(),so=function(){function c(i,y,S,B){this.name=i,this.version=y,this.os=S,this.bot=B,this.type="bot-device"}return c}(),ao=function(){function c(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return c}(),uo=function(){function c(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return c}(),fo=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,ho=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,je=3,co=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",fo]],We=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function lo(c){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new uo:typeof navigator<"u"?go(navigator.userAgent):vo()}function po(c){return c!==""&&co.reduce(function(i,y){var S=y[0],B=y[1];if(i)return i;var g=B.exec(c);return!!g&&[S,g]},!1)}function go(c){var i=po(c);if(!i)return null;var y=i[0],S=i[1];if(y==="searchbot")return new ao;var B=S[1]&&S[1].split(/[._]/).slice(0,3);B?B.length<je&&(B=no(B,yo(je-B.length))):B=[];var g=B.join("."),C=mo(c),F=ho.exec(c);return F&&F[1]?new so(y,g,C,F[1]):new io(y,g,C)}function mo(c){for(var i=0,y=We.length;i<y;i++){var S=We[i],B=S[0],g=S[1],C=g.exec(c);if(C)return B}return null}function vo(){var c=typeof process<"u"&&process.version;return c?new oo(process.version.slice(1)):null}function yo(c){for(var i=[],y=0;y<c;y++)i.push("0");return i}function Ce(c){return lo()}function Be(){const c=Ce();return c&&c.os?c.os:void 0}function wo(){const c=Be();return c?c.toLowerCase().includes("android"):!1}function _o(){const c=Be();return c?c.toLowerCase().includes("ios")||c.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function Mo(){return Be()?wo()||_o():!1}function bo(){const c=Ce();return c&&c.name?c.name.toLowerCase()==="node":!1}function So(){return!bo()&&!!xo()}const xo=Ye,Ao=tr,Pe=Xe;function Ue(){return er()}function ko(c){if(typeof c!="string")throw new Error(`Cannot safe json parse value of type ${typeof c}`);try{return JSON.parse(c)}catch{return c}}function Oo(c){return typeof c=="string"?c:JSON.stringify(c)}const Ro=ko,Io=Oo;function To(c,i){const y=Io(i),S=Pe();S&&S.setItem(c,y)}function rr(c){let i=null,y=null;const S=Pe();return S&&(y=S.getItem(c)),i=y&&Ro(y),i}function nr(c){const i=Pe();i&&i.removeItem(c)}const He="WALLETCONNECT_DEEPLINK_CHOICE",Eo=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],ir=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];var Fe={exports:{}};Fe.exports;(function(c){(function(i,y){function S(O,t){if(!O)throw new Error(t||"Assertion failed")}function B(O,t){O.super_=t;var n=function(){};n.prototype=t.prototype,O.prototype=new n,O.prototype.constructor=O}function g(O,t,n){if(g.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((t==="le"||t==="be")&&(n=t,t=10),this._init(O||0,t||10,n||"be"))}typeof i=="object"?i.exports=g:y.BN=g,g.BN=g,g.wordSize=26;var C;try{C=zi.Buffer}catch{}g.isBN=function(t){return t instanceof g?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===g.wordSize&&Array.isArray(t.words)},g.max=function(t,n){return t.cmp(n)>0?t:n},g.min=function(t,n){return t.cmp(n)<0?t:n},g.prototype._init=function(t,n,o){if(typeof t=="number")return this._initNumber(t,n,o);if(typeof t=="object")return this._initArray(t,n,o);n==="hex"&&(n=16),S(n===(n|0)&&n>=2&&n<=36),t=t.toString().replace(/\s+/g,"");var s=0;t[0]==="-"&&s++,n===16?this._parseHex(t,s):this._parseBase(t,n,s),t[0]==="-"&&(this.negative=1),this.strip(),o==="le"&&this._initArray(this.toArray(),n,o)},g.prototype._initNumber=function(t,n,o){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(S(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),o==="le"&&this._initArray(this.toArray(),n,o)},g.prototype._initArray=function(t,n,o){if(S(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var u,d,m=0;if(o==="be")for(s=t.length-1,u=0;s>=0;s-=3)d=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[u]|=d<<m&67108863,this.words[u+1]=d>>>26-m&67108863,m+=24,m>=26&&(m-=26,u++);else if(o==="le")for(s=0,u=0;s<t.length;s+=3)d=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[u]|=d<<m&67108863,this.words[u+1]=d>>>26-m&67108863,m+=24,m>=26&&(m-=26,u++);return this.strip()};function F(O,t,n){for(var o=0,s=Math.min(O.length,n),u=t;u<s;u++){var d=O.charCodeAt(u)-48;o<<=4,d>=49&&d<=54?o|=d-49+10:d>=17&&d<=22?o|=d-17+10:o|=d&15}return o}g.prototype._parseHex=function(t,n){this.length=Math.ceil((t.length-n)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var s,u,d=0;for(o=t.length-6,s=0;o>=n;o-=6)u=F(t,o,o+6),this.words[s]|=u<<d&67108863,this.words[s+1]|=u>>>26-d&4194303,d+=24,d>=26&&(d-=26,s++);o+6!==n&&(u=F(t,n,o+6),this.words[s]|=u<<d&67108863,this.words[s+1]|=u>>>26-d&4194303),this.strip()};function W(O,t,n,o){for(var s=0,u=Math.min(O.length,n),d=t;d<u;d++){var m=O.charCodeAt(d)-48;s*=o,m>=49?s+=m-49+10:m>=17?s+=m-17+10:s+=m}return s}g.prototype._parseBase=function(t,n,o){this.words=[0],this.length=1;for(var s=0,u=1;u<=67108863;u*=n)s++;s--,u=u/n|0;for(var d=t.length-o,m=d%s,f=Math.min(d,d-m)+o,r=0,l=o;l<f;l+=s)r=W(t,l,l+s,n),this.imuln(u),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r);if(m!==0){var L=1;for(r=W(t,l,t.length,n),l=0;l<m;l++)L*=n;this.imuln(L),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r)}},g.prototype.copy=function(t){t.words=new Array(this.length);for(var n=0;n<this.length;n++)t.words[n]=this.words[n];t.length=this.length,t.negative=this.negative,t.red=this.red},g.prototype.clone=function(){var t=new g(null);return this.copy(t),t},g.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},g.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},g.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},g.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];g.prototype.toString=function(t,n){t=t||10,n=n|0||1;var o;if(t===16||t==="hex"){o="";for(var s=0,u=0,d=0;d<this.length;d++){var m=this.words[d],f=((m<<s|u)&16777215).toString(16);u=m>>>24-s&16777215,u!==0||d!==this.length-1?o=w[6-f.length]+f+o:o=f+o,s+=2,s>=26&&(s-=26,d--)}for(u!==0&&(o=u.toString(16)+o);o.length%n!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}if(t===(t|0)&&t>=2&&t<=36){var r=x[t],l=R[t];o="";var L=this.clone();for(L.negative=0;!L.isZero();){var j=L.modn(l).toString(t);L=L.idivn(l),L.isZero()?o=j+o:o=w[r-j.length]+j+o}for(this.isZero()&&(o="0"+o);o.length%n!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}S(!1,"Base should be between 2 and 36")},g.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&S(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},g.prototype.toJSON=function(){return this.toString(16)},g.prototype.toBuffer=function(t,n){return S(typeof C<"u"),this.toArrayLike(C,t,n)},g.prototype.toArray=function(t,n){return this.toArrayLike(Array,t,n)},g.prototype.toArrayLike=function(t,n,o){var s=this.byteLength(),u=o||Math.max(1,s);S(s<=u,"byte array longer than desired length"),S(u>0,"Requested array length <= 0"),this.strip();var d=n==="le",m=new t(u),f,r,l=this.clone();if(d){for(r=0;!l.isZero();r++)f=l.andln(255),l.iushrn(8),m[r]=f;for(;r<u;r++)m[r]=0}else{for(r=0;r<u-s;r++)m[r]=0;for(r=0;!l.isZero();r++)f=l.andln(255),l.iushrn(8),m[u-r-1]=f}return m},Math.clz32?g.prototype._countBits=function(t){return 32-Math.clz32(t)}:g.prototype._countBits=function(t){var n=t,o=0;return n>=4096&&(o+=13,n>>>=13),n>=64&&(o+=7,n>>>=7),n>=8&&(o+=4,n>>>=4),n>=2&&(o+=2,n>>>=2),o+n},g.prototype._zeroBits=function(t){if(t===0)return 26;var n=t,o=0;return n&8191||(o+=13,n>>>=13),n&127||(o+=7,n>>>=7),n&15||(o+=4,n>>>=4),n&3||(o+=2,n>>>=2),n&1||o++,o},g.prototype.bitLength=function(){var t=this.words[this.length-1],n=this._countBits(t);return(this.length-1)*26+n};function et(O){for(var t=new Array(O.bitLength()),n=0;n<t.length;n++){var o=n/26|0,s=n%26;t[n]=(O.words[o]&1<<s)>>>s}return t}g.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,n=0;n<this.length;n++){var o=this._zeroBits(this.words[n]);if(t+=o,o!==26)break}return t},g.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},g.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},g.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},g.prototype.isNeg=function(){return this.negative!==0},g.prototype.neg=function(){return this.clone().ineg()},g.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},g.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]|t.words[n];return this.strip()},g.prototype.ior=function(t){return S((this.negative|t.negative)===0),this.iuor(t)},g.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},g.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},g.prototype.iuand=function(t){var n;this.length>t.length?n=t:n=this;for(var o=0;o<n.length;o++)this.words[o]=this.words[o]&t.words[o];return this.length=n.length,this.strip()},g.prototype.iand=function(t){return S((this.negative|t.negative)===0),this.iuand(t)},g.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},g.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},g.prototype.iuxor=function(t){var n,o;this.length>t.length?(n=this,o=t):(n=t,o=this);for(var s=0;s<o.length;s++)this.words[s]=n.words[s]^o.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},g.prototype.ixor=function(t){return S((this.negative|t.negative)===0),this.iuxor(t)},g.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},g.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},g.prototype.inotn=function(t){S(typeof t=="number"&&t>=0);var n=Math.ceil(t/26)|0,o=t%26;this._expand(n),o>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return o>0&&(this.words[s]=~this.words[s]&67108863>>26-o),this.strip()},g.prototype.notn=function(t){return this.clone().inotn(t)},g.prototype.setn=function(t,n){S(typeof t=="number"&&t>=0);var o=t/26|0,s=t%26;return this._expand(o+1),n?this.words[o]=this.words[o]|1<<s:this.words[o]=this.words[o]&~(1<<s),this.strip()},g.prototype.iadd=function(t){var n;if(this.negative!==0&&t.negative===0)return this.negative=0,n=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,n=this.isub(t),t.negative=1,n._normSign();var o,s;this.length>t.length?(o=this,s=t):(o=t,s=this);for(var u=0,d=0;d<s.length;d++)n=(o.words[d]|0)+(s.words[d]|0)+u,this.words[d]=n&67108863,u=n>>>26;for(;u!==0&&d<o.length;d++)n=(o.words[d]|0)+u,this.words[d]=n&67108863,u=n>>>26;if(this.length=o.length,u!==0)this.words[this.length]=u,this.length++;else if(o!==this)for(;d<o.length;d++)this.words[d]=o.words[d];return this},g.prototype.add=function(t){var n;return t.negative!==0&&this.negative===0?(t.negative=0,n=this.sub(t),t.negative^=1,n):t.negative===0&&this.negative!==0?(this.negative=0,n=t.sub(this),this.negative=1,n):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},g.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var n=this.iadd(t);return t.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var o=this.cmp(t);if(o===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,u;o>0?(s=this,u=t):(s=t,u=this);for(var d=0,m=0;m<u.length;m++)n=(s.words[m]|0)-(u.words[m]|0)+d,d=n>>26,this.words[m]=n&67108863;for(;d!==0&&m<s.length;m++)n=(s.words[m]|0)+d,d=n>>26,this.words[m]=n&67108863;if(d===0&&m<s.length&&s!==this)for(;m<s.length;m++)this.words[m]=s.words[m];return this.length=Math.max(this.length,m),s!==this&&(this.negative=1),this.strip()},g.prototype.sub=function(t){return this.clone().isub(t)};function H(O,t,n){n.negative=t.negative^O.negative;var o=O.length+t.length|0;n.length=o,o=o-1|0;var s=O.words[0]|0,u=t.words[0]|0,d=s*u,m=d&67108863,f=d/67108864|0;n.words[0]=m;for(var r=1;r<o;r++){for(var l=f>>>26,L=f&67108863,j=Math.min(r,t.length-1),I=Math.max(0,r-O.length+1);I<=j;I++){var a=r-I|0;s=O.words[a]|0,u=t.words[I]|0,d=s*u+L,l+=d/67108864|0,L=d&67108863}n.words[r]=L|0,f=l|0}return f!==0?n.words[r]=f|0:n.length--,n.strip()}var D=function(t,n,o){var s=t.words,u=n.words,d=o.words,m=0,f,r,l,L=s[0]|0,j=L&8191,I=L>>>13,a=s[1]|0,e=a&8191,h=a>>>13,p=s[2]|0,v=p&8191,b=p>>>13,T=s[3]|0,_=T&8191,M=T>>>13,A=s[4]|0,k=A&8191,E=A>>>13,$=s[5]|0,z=$&8191,q=$>>>13,Y=s[6]|0,Q=Y&8191,J=Y>>>13,ct=s[7]|0,V=ct&8191,Z=ct>>>13,rt=s[8]|0,X=rt&8191,ft=rt>>>13,wt=s[9]|0,tt=wt&8191,ot=wt>>>13,lt=u[0]|0,st=lt&8191,at=lt>>>13,St=u[1]|0,ut=St&8191,gt=St>>>13,Lt=u[2]|0,mt=Lt&8191,_t=Lt>>>13,Dt=u[3]|0,pt=Dt&8191,Mt=Dt>>>13,Nt=u[4]|0,vt=Nt&8191,bt=Nt>>>13,qt=u[5]|0,yt=qt&8191,kt=qt>>>13,Jt=u[6]|0,Ot=Jt&8191,Rt=Jt>>>13,Zt=u[7]|0,It=Zt&8191,Tt=Zt>>>13,Xt=u[8]|0,Et=Xt&8191,Ct=Xt>>>13,Yt=u[9]|0,Bt=Yt&8191,Pt=Yt>>>13;o.negative=t.negative^n.negative,o.length=19,f=Math.imul(j,st),r=Math.imul(j,at),r=r+Math.imul(I,st)|0,l=Math.imul(I,at);var zt=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(zt>>>26)|0,zt&=67108863,f=Math.imul(e,st),r=Math.imul(e,at),r=r+Math.imul(h,st)|0,l=Math.imul(h,at),f=f+Math.imul(j,ut)|0,r=r+Math.imul(j,gt)|0,r=r+Math.imul(I,ut)|0,l=l+Math.imul(I,gt)|0;var jt=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(jt>>>26)|0,jt&=67108863,f=Math.imul(v,st),r=Math.imul(v,at),r=r+Math.imul(b,st)|0,l=Math.imul(b,at),f=f+Math.imul(e,ut)|0,r=r+Math.imul(e,gt)|0,r=r+Math.imul(h,ut)|0,l=l+Math.imul(h,gt)|0,f=f+Math.imul(j,mt)|0,r=r+Math.imul(j,_t)|0,r=r+Math.imul(I,mt)|0,l=l+Math.imul(I,_t)|0;var Wt=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,f=Math.imul(_,st),r=Math.imul(_,at),r=r+Math.imul(M,st)|0,l=Math.imul(M,at),f=f+Math.imul(v,ut)|0,r=r+Math.imul(v,gt)|0,r=r+Math.imul(b,ut)|0,l=l+Math.imul(b,gt)|0,f=f+Math.imul(e,mt)|0,r=r+Math.imul(e,_t)|0,r=r+Math.imul(h,mt)|0,l=l+Math.imul(h,_t)|0,f=f+Math.imul(j,pt)|0,r=r+Math.imul(j,Mt)|0,r=r+Math.imul(I,pt)|0,l=l+Math.imul(I,Mt)|0;var Ut=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,f=Math.imul(k,st),r=Math.imul(k,at),r=r+Math.imul(E,st)|0,l=Math.imul(E,at),f=f+Math.imul(_,ut)|0,r=r+Math.imul(_,gt)|0,r=r+Math.imul(M,ut)|0,l=l+Math.imul(M,gt)|0,f=f+Math.imul(v,mt)|0,r=r+Math.imul(v,_t)|0,r=r+Math.imul(b,mt)|0,l=l+Math.imul(b,_t)|0,f=f+Math.imul(e,pt)|0,r=r+Math.imul(e,Mt)|0,r=r+Math.imul(h,pt)|0,l=l+Math.imul(h,Mt)|0,f=f+Math.imul(j,vt)|0,r=r+Math.imul(j,bt)|0,r=r+Math.imul(I,vt)|0,l=l+Math.imul(I,bt)|0;var Ht=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,f=Math.imul(z,st),r=Math.imul(z,at),r=r+Math.imul(q,st)|0,l=Math.imul(q,at),f=f+Math.imul(k,ut)|0,r=r+Math.imul(k,gt)|0,r=r+Math.imul(E,ut)|0,l=l+Math.imul(E,gt)|0,f=f+Math.imul(_,mt)|0,r=r+Math.imul(_,_t)|0,r=r+Math.imul(M,mt)|0,l=l+Math.imul(M,_t)|0,f=f+Math.imul(v,pt)|0,r=r+Math.imul(v,Mt)|0,r=r+Math.imul(b,pt)|0,l=l+Math.imul(b,Mt)|0,f=f+Math.imul(e,vt)|0,r=r+Math.imul(e,bt)|0,r=r+Math.imul(h,vt)|0,l=l+Math.imul(h,bt)|0,f=f+Math.imul(j,yt)|0,r=r+Math.imul(j,kt)|0,r=r+Math.imul(I,yt)|0,l=l+Math.imul(I,kt)|0;var Gt=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,f=Math.imul(Q,st),r=Math.imul(Q,at),r=r+Math.imul(J,st)|0,l=Math.imul(J,at),f=f+Math.imul(z,ut)|0,r=r+Math.imul(z,gt)|0,r=r+Math.imul(q,ut)|0,l=l+Math.imul(q,gt)|0,f=f+Math.imul(k,mt)|0,r=r+Math.imul(k,_t)|0,r=r+Math.imul(E,mt)|0,l=l+Math.imul(E,_t)|0,f=f+Math.imul(_,pt)|0,r=r+Math.imul(_,Mt)|0,r=r+Math.imul(M,pt)|0,l=l+Math.imul(M,Mt)|0,f=f+Math.imul(v,vt)|0,r=r+Math.imul(v,bt)|0,r=r+Math.imul(b,vt)|0,l=l+Math.imul(b,bt)|0,f=f+Math.imul(e,yt)|0,r=r+Math.imul(e,kt)|0,r=r+Math.imul(h,yt)|0,l=l+Math.imul(h,kt)|0,f=f+Math.imul(j,Ot)|0,r=r+Math.imul(j,Rt)|0,r=r+Math.imul(I,Ot)|0,l=l+Math.imul(I,Rt)|0;var $t=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+($t>>>26)|0,$t&=67108863,f=Math.imul(V,st),r=Math.imul(V,at),r=r+Math.imul(Z,st)|0,l=Math.imul(Z,at),f=f+Math.imul(Q,ut)|0,r=r+Math.imul(Q,gt)|0,r=r+Math.imul(J,ut)|0,l=l+Math.imul(J,gt)|0,f=f+Math.imul(z,mt)|0,r=r+Math.imul(z,_t)|0,r=r+Math.imul(q,mt)|0,l=l+Math.imul(q,_t)|0,f=f+Math.imul(k,pt)|0,r=r+Math.imul(k,Mt)|0,r=r+Math.imul(E,pt)|0,l=l+Math.imul(E,Mt)|0,f=f+Math.imul(_,vt)|0,r=r+Math.imul(_,bt)|0,r=r+Math.imul(M,vt)|0,l=l+Math.imul(M,bt)|0,f=f+Math.imul(v,yt)|0,r=r+Math.imul(v,kt)|0,r=r+Math.imul(b,yt)|0,l=l+Math.imul(b,kt)|0,f=f+Math.imul(e,Ot)|0,r=r+Math.imul(e,Rt)|0,r=r+Math.imul(h,Ot)|0,l=l+Math.imul(h,Rt)|0,f=f+Math.imul(j,It)|0,r=r+Math.imul(j,Tt)|0,r=r+Math.imul(I,It)|0,l=l+Math.imul(I,Tt)|0;var Kt=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,f=Math.imul(X,st),r=Math.imul(X,at),r=r+Math.imul(ft,st)|0,l=Math.imul(ft,at),f=f+Math.imul(V,ut)|0,r=r+Math.imul(V,gt)|0,r=r+Math.imul(Z,ut)|0,l=l+Math.imul(Z,gt)|0,f=f+Math.imul(Q,mt)|0,r=r+Math.imul(Q,_t)|0,r=r+Math.imul(J,mt)|0,l=l+Math.imul(J,_t)|0,f=f+Math.imul(z,pt)|0,r=r+Math.imul(z,Mt)|0,r=r+Math.imul(q,pt)|0,l=l+Math.imul(q,Mt)|0,f=f+Math.imul(k,vt)|0,r=r+Math.imul(k,bt)|0,r=r+Math.imul(E,vt)|0,l=l+Math.imul(E,bt)|0,f=f+Math.imul(_,yt)|0,r=r+Math.imul(_,kt)|0,r=r+Math.imul(M,yt)|0,l=l+Math.imul(M,kt)|0,f=f+Math.imul(v,Ot)|0,r=r+Math.imul(v,Rt)|0,r=r+Math.imul(b,Ot)|0,l=l+Math.imul(b,Rt)|0,f=f+Math.imul(e,It)|0,r=r+Math.imul(e,Tt)|0,r=r+Math.imul(h,It)|0,l=l+Math.imul(h,Tt)|0,f=f+Math.imul(j,Et)|0,r=r+Math.imul(j,Ct)|0,r=r+Math.imul(I,Et)|0,l=l+Math.imul(I,Ct)|0;var de=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(de>>>26)|0,de&=67108863,f=Math.imul(tt,st),r=Math.imul(tt,at),r=r+Math.imul(ot,st)|0,l=Math.imul(ot,at),f=f+Math.imul(X,ut)|0,r=r+Math.imul(X,gt)|0,r=r+Math.imul(ft,ut)|0,l=l+Math.imul(ft,gt)|0,f=f+Math.imul(V,mt)|0,r=r+Math.imul(V,_t)|0,r=r+Math.imul(Z,mt)|0,l=l+Math.imul(Z,_t)|0,f=f+Math.imul(Q,pt)|0,r=r+Math.imul(Q,Mt)|0,r=r+Math.imul(J,pt)|0,l=l+Math.imul(J,Mt)|0,f=f+Math.imul(z,vt)|0,r=r+Math.imul(z,bt)|0,r=r+Math.imul(q,vt)|0,l=l+Math.imul(q,bt)|0,f=f+Math.imul(k,yt)|0,r=r+Math.imul(k,kt)|0,r=r+Math.imul(E,yt)|0,l=l+Math.imul(E,kt)|0,f=f+Math.imul(_,Ot)|0,r=r+Math.imul(_,Rt)|0,r=r+Math.imul(M,Ot)|0,l=l+Math.imul(M,Rt)|0,f=f+Math.imul(v,It)|0,r=r+Math.imul(v,Tt)|0,r=r+Math.imul(b,It)|0,l=l+Math.imul(b,Tt)|0,f=f+Math.imul(e,Et)|0,r=r+Math.imul(e,Ct)|0,r=r+Math.imul(h,Et)|0,l=l+Math.imul(h,Ct)|0,f=f+Math.imul(j,Bt)|0,r=r+Math.imul(j,Pt)|0,r=r+Math.imul(I,Bt)|0,l=l+Math.imul(I,Pt)|0;var pe=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(pe>>>26)|0,pe&=67108863,f=Math.imul(tt,ut),r=Math.imul(tt,gt),r=r+Math.imul(ot,ut)|0,l=Math.imul(ot,gt),f=f+Math.imul(X,mt)|0,r=r+Math.imul(X,_t)|0,r=r+Math.imul(ft,mt)|0,l=l+Math.imul(ft,_t)|0,f=f+Math.imul(V,pt)|0,r=r+Math.imul(V,Mt)|0,r=r+Math.imul(Z,pt)|0,l=l+Math.imul(Z,Mt)|0,f=f+Math.imul(Q,vt)|0,r=r+Math.imul(Q,bt)|0,r=r+Math.imul(J,vt)|0,l=l+Math.imul(J,bt)|0,f=f+Math.imul(z,yt)|0,r=r+Math.imul(z,kt)|0,r=r+Math.imul(q,yt)|0,l=l+Math.imul(q,kt)|0,f=f+Math.imul(k,Ot)|0,r=r+Math.imul(k,Rt)|0,r=r+Math.imul(E,Ot)|0,l=l+Math.imul(E,Rt)|0,f=f+Math.imul(_,It)|0,r=r+Math.imul(_,Tt)|0,r=r+Math.imul(M,It)|0,l=l+Math.imul(M,Tt)|0,f=f+Math.imul(v,Et)|0,r=r+Math.imul(v,Ct)|0,r=r+Math.imul(b,Et)|0,l=l+Math.imul(b,Ct)|0,f=f+Math.imul(e,Bt)|0,r=r+Math.imul(e,Pt)|0,r=r+Math.imul(h,Bt)|0,l=l+Math.imul(h,Pt)|0;var ge=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,f=Math.imul(tt,mt),r=Math.imul(tt,_t),r=r+Math.imul(ot,mt)|0,l=Math.imul(ot,_t),f=f+Math.imul(X,pt)|0,r=r+Math.imul(X,Mt)|0,r=r+Math.imul(ft,pt)|0,l=l+Math.imul(ft,Mt)|0,f=f+Math.imul(V,vt)|0,r=r+Math.imul(V,bt)|0,r=r+Math.imul(Z,vt)|0,l=l+Math.imul(Z,bt)|0,f=f+Math.imul(Q,yt)|0,r=r+Math.imul(Q,kt)|0,r=r+Math.imul(J,yt)|0,l=l+Math.imul(J,kt)|0,f=f+Math.imul(z,Ot)|0,r=r+Math.imul(z,Rt)|0,r=r+Math.imul(q,Ot)|0,l=l+Math.imul(q,Rt)|0,f=f+Math.imul(k,It)|0,r=r+Math.imul(k,Tt)|0,r=r+Math.imul(E,It)|0,l=l+Math.imul(E,Tt)|0,f=f+Math.imul(_,Et)|0,r=r+Math.imul(_,Ct)|0,r=r+Math.imul(M,Et)|0,l=l+Math.imul(M,Ct)|0,f=f+Math.imul(v,Bt)|0,r=r+Math.imul(v,Pt)|0,r=r+Math.imul(b,Bt)|0,l=l+Math.imul(b,Pt)|0;var me=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(me>>>26)|0,me&=67108863,f=Math.imul(tt,pt),r=Math.imul(tt,Mt),r=r+Math.imul(ot,pt)|0,l=Math.imul(ot,Mt),f=f+Math.imul(X,vt)|0,r=r+Math.imul(X,bt)|0,r=r+Math.imul(ft,vt)|0,l=l+Math.imul(ft,bt)|0,f=f+Math.imul(V,yt)|0,r=r+Math.imul(V,kt)|0,r=r+Math.imul(Z,yt)|0,l=l+Math.imul(Z,kt)|0,f=f+Math.imul(Q,Ot)|0,r=r+Math.imul(Q,Rt)|0,r=r+Math.imul(J,Ot)|0,l=l+Math.imul(J,Rt)|0,f=f+Math.imul(z,It)|0,r=r+Math.imul(z,Tt)|0,r=r+Math.imul(q,It)|0,l=l+Math.imul(q,Tt)|0,f=f+Math.imul(k,Et)|0,r=r+Math.imul(k,Ct)|0,r=r+Math.imul(E,Et)|0,l=l+Math.imul(E,Ct)|0,f=f+Math.imul(_,Bt)|0,r=r+Math.imul(_,Pt)|0,r=r+Math.imul(M,Bt)|0,l=l+Math.imul(M,Pt)|0;var ve=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,f=Math.imul(tt,vt),r=Math.imul(tt,bt),r=r+Math.imul(ot,vt)|0,l=Math.imul(ot,bt),f=f+Math.imul(X,yt)|0,r=r+Math.imul(X,kt)|0,r=r+Math.imul(ft,yt)|0,l=l+Math.imul(ft,kt)|0,f=f+Math.imul(V,Ot)|0,r=r+Math.imul(V,Rt)|0,r=r+Math.imul(Z,Ot)|0,l=l+Math.imul(Z,Rt)|0,f=f+Math.imul(Q,It)|0,r=r+Math.imul(Q,Tt)|0,r=r+Math.imul(J,It)|0,l=l+Math.imul(J,Tt)|0,f=f+Math.imul(z,Et)|0,r=r+Math.imul(z,Ct)|0,r=r+Math.imul(q,Et)|0,l=l+Math.imul(q,Ct)|0,f=f+Math.imul(k,Bt)|0,r=r+Math.imul(k,Pt)|0,r=r+Math.imul(E,Bt)|0,l=l+Math.imul(E,Pt)|0;var ye=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,f=Math.imul(tt,yt),r=Math.imul(tt,kt),r=r+Math.imul(ot,yt)|0,l=Math.imul(ot,kt),f=f+Math.imul(X,Ot)|0,r=r+Math.imul(X,Rt)|0,r=r+Math.imul(ft,Ot)|0,l=l+Math.imul(ft,Rt)|0,f=f+Math.imul(V,It)|0,r=r+Math.imul(V,Tt)|0,r=r+Math.imul(Z,It)|0,l=l+Math.imul(Z,Tt)|0,f=f+Math.imul(Q,Et)|0,r=r+Math.imul(Q,Ct)|0,r=r+Math.imul(J,Et)|0,l=l+Math.imul(J,Ct)|0,f=f+Math.imul(z,Bt)|0,r=r+Math.imul(z,Pt)|0,r=r+Math.imul(q,Bt)|0,l=l+Math.imul(q,Pt)|0;var we=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(we>>>26)|0,we&=67108863,f=Math.imul(tt,Ot),r=Math.imul(tt,Rt),r=r+Math.imul(ot,Ot)|0,l=Math.imul(ot,Rt),f=f+Math.imul(X,It)|0,r=r+Math.imul(X,Tt)|0,r=r+Math.imul(ft,It)|0,l=l+Math.imul(ft,Tt)|0,f=f+Math.imul(V,Et)|0,r=r+Math.imul(V,Ct)|0,r=r+Math.imul(Z,Et)|0,l=l+Math.imul(Z,Ct)|0,f=f+Math.imul(Q,Bt)|0,r=r+Math.imul(Q,Pt)|0,r=r+Math.imul(J,Bt)|0,l=l+Math.imul(J,Pt)|0;var _e=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,f=Math.imul(tt,It),r=Math.imul(tt,Tt),r=r+Math.imul(ot,It)|0,l=Math.imul(ot,Tt),f=f+Math.imul(X,Et)|0,r=r+Math.imul(X,Ct)|0,r=r+Math.imul(ft,Et)|0,l=l+Math.imul(ft,Ct)|0,f=f+Math.imul(V,Bt)|0,r=r+Math.imul(V,Pt)|0,r=r+Math.imul(Z,Bt)|0,l=l+Math.imul(Z,Pt)|0;var Me=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,f=Math.imul(tt,Et),r=Math.imul(tt,Ct),r=r+Math.imul(ot,Et)|0,l=Math.imul(ot,Ct),f=f+Math.imul(X,Bt)|0,r=r+Math.imul(X,Pt)|0,r=r+Math.imul(ft,Bt)|0,l=l+Math.imul(ft,Pt)|0;var be=(m+f|0)+((r&8191)<<13)|0;m=(l+(r>>>13)|0)+(be>>>26)|0,be&=67108863,f=Math.imul(tt,Bt),r=Math.imul(tt,Pt),r=r+Math.imul(ot,Bt)|0,l=Math.imul(ot,Pt);var Se=(m+f|0)+((r&8191)<<13)|0;return m=(l+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,d[0]=zt,d[1]=jt,d[2]=Wt,d[3]=Ut,d[4]=Ht,d[5]=Gt,d[6]=$t,d[7]=Kt,d[8]=de,d[9]=pe,d[10]=ge,d[11]=me,d[12]=ve,d[13]=ye,d[14]=we,d[15]=_e,d[16]=Me,d[17]=be,d[18]=Se,m!==0&&(d[19]=m,o.length++),o};Math.imul||(D=H);function G(O,t,n){n.negative=t.negative^O.negative,n.length=O.length+t.length;for(var o=0,s=0,u=0;u<n.length-1;u++){var d=s;s=0;for(var m=o&67108863,f=Math.min(u,t.length-1),r=Math.max(0,u-O.length+1);r<=f;r++){var l=u-r,L=O.words[l]|0,j=t.words[r]|0,I=L*j,a=I&67108863;d=d+(I/67108864|0)|0,a=a+m|0,m=a&67108863,d=d+(a>>>26)|0,s+=d>>>26,d&=67108863}n.words[u]=m,o=d,d=s}return o!==0?n.words[u]=o:n.length--,n.strip()}function P(O,t,n){var o=new N;return o.mulp(O,t,n)}g.prototype.mulTo=function(t,n){var o,s=this.length+t.length;return this.length===10&&t.length===10?o=D(this,t,n):s<63?o=H(this,t,n):s<1024?o=G(this,t,n):o=P(this,t,n),o};function N(O,t){this.x=O,this.y=t}N.prototype.makeRBT=function(t){for(var n=new Array(t),o=g.prototype._countBits(t)-1,s=0;s<t;s++)n[s]=this.revBin(s,o,t);return n},N.prototype.revBin=function(t,n,o){if(t===0||t===o-1)return t;for(var s=0,u=0;u<n;u++)s|=(t&1)<<n-u-1,t>>=1;return s},N.prototype.permute=function(t,n,o,s,u,d){for(var m=0;m<d;m++)s[m]=n[t[m]],u[m]=o[t[m]]},N.prototype.transform=function(t,n,o,s,u,d){this.permute(d,t,n,o,s,u);for(var m=1;m<u;m<<=1)for(var f=m<<1,r=Math.cos(2*Math.PI/f),l=Math.sin(2*Math.PI/f),L=0;L<u;L+=f)for(var j=r,I=l,a=0;a<m;a++){var e=o[L+a],h=s[L+a],p=o[L+a+m],v=s[L+a+m],b=j*p-I*v;v=j*v+I*p,p=b,o[L+a]=e+p,s[L+a]=h+v,o[L+a+m]=e-p,s[L+a+m]=h-v,a!==f&&(b=r*j-l*I,I=r*I+l*j,j=b)}},N.prototype.guessLen13b=function(t,n){var o=Math.max(n,t)|1,s=o&1,u=0;for(o=o/2|0;o;o=o>>>1)u++;return 1<<u+1+s},N.prototype.conjugate=function(t,n,o){if(!(o<=1))for(var s=0;s<o/2;s++){var u=t[s];t[s]=t[o-s-1],t[o-s-1]=u,u=n[s],n[s]=-n[o-s-1],n[o-s-1]=-u}},N.prototype.normalize13b=function(t,n){for(var o=0,s=0;s<n/2;s++){var u=Math.round(t[2*s+1]/n)*8192+Math.round(t[2*s]/n)+o;t[s]=u&67108863,u<67108864?o=0:o=u/67108864|0}return t},N.prototype.convert13b=function(t,n,o,s){for(var u=0,d=0;d<n;d++)u=u+(t[d]|0),o[2*d]=u&8191,u=u>>>13,o[2*d+1]=u&8191,u=u>>>13;for(d=2*n;d<s;++d)o[d]=0;S(u===0),S((u&-8192)===0)},N.prototype.stub=function(t){for(var n=new Array(t),o=0;o<t;o++)n[o]=0;return n},N.prototype.mulp=function(t,n,o){var s=2*this.guessLen13b(t.length,n.length),u=this.makeRBT(s),d=this.stub(s),m=new Array(s),f=new Array(s),r=new Array(s),l=new Array(s),L=new Array(s),j=new Array(s),I=o.words;I.length=s,this.convert13b(t.words,t.length,m,s),this.convert13b(n.words,n.length,l,s),this.transform(m,d,f,r,s,u),this.transform(l,d,L,j,s,u);for(var a=0;a<s;a++){var e=f[a]*L[a]-r[a]*j[a];r[a]=f[a]*j[a]+r[a]*L[a],f[a]=e}return this.conjugate(f,r,s),this.transform(f,r,I,d,s,u),this.conjugate(I,d,s),this.normalize13b(I,s),o.negative=t.negative^n.negative,o.length=t.length+n.length,o.strip()},g.prototype.mul=function(t){var n=new g(null);return n.words=new Array(this.length+t.length),this.mulTo(t,n)},g.prototype.mulf=function(t){var n=new g(null);return n.words=new Array(this.length+t.length),P(this,t,n)},g.prototype.imul=function(t){return this.clone().mulTo(t,this)},g.prototype.imuln=function(t){S(typeof t=="number"),S(t<67108864);for(var n=0,o=0;o<this.length;o++){var s=(this.words[o]|0)*t,u=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=u>>>26,this.words[o]=u&67108863}return n!==0&&(this.words[o]=n,this.length++),this},g.prototype.muln=function(t){return this.clone().imuln(t)},g.prototype.sqr=function(){return this.mul(this)},g.prototype.isqr=function(){return this.imul(this.clone())},g.prototype.pow=function(t){var n=et(t);if(n.length===0)return new g(1);for(var o=this,s=0;s<n.length&&n[s]===0;s++,o=o.sqr());if(++s<n.length)for(var u=o.sqr();s<n.length;s++,u=u.sqr())n[s]!==0&&(o=o.mul(u));return o},g.prototype.iushln=function(t){S(typeof t=="number"&&t>=0);var n=t%26,o=(t-n)/26,s=67108863>>>26-n<<26-n,u;if(n!==0){var d=0;for(u=0;u<this.length;u++){var m=this.words[u]&s,f=(this.words[u]|0)-m<<n;this.words[u]=f|d,d=m>>>26-n}d&&(this.words[u]=d,this.length++)}if(o!==0){for(u=this.length-1;u>=0;u--)this.words[u+o]=this.words[u];for(u=0;u<o;u++)this.words[u]=0;this.length+=o}return this.strip()},g.prototype.ishln=function(t){return S(this.negative===0),this.iushln(t)},g.prototype.iushrn=function(t,n,o){S(typeof t=="number"&&t>=0);var s;n?s=(n-n%26)/26:s=0;var u=t%26,d=Math.min((t-u)/26,this.length),m=67108863^67108863>>>u<<u,f=o;if(s-=d,s=Math.max(0,s),f){for(var r=0;r<d;r++)f.words[r]=this.words[r];f.length=d}if(d!==0)if(this.length>d)for(this.length-=d,r=0;r<this.length;r++)this.words[r]=this.words[r+d];else this.words[0]=0,this.length=1;var l=0;for(r=this.length-1;r>=0&&(l!==0||r>=s);r--){var L=this.words[r]|0;this.words[r]=l<<26-u|L>>>u,l=L&m}return f&&l!==0&&(f.words[f.length++]=l),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},g.prototype.ishrn=function(t,n,o){return S(this.negative===0),this.iushrn(t,n,o)},g.prototype.shln=function(t){return this.clone().ishln(t)},g.prototype.ushln=function(t){return this.clone().iushln(t)},g.prototype.shrn=function(t){return this.clone().ishrn(t)},g.prototype.ushrn=function(t){return this.clone().iushrn(t)},g.prototype.testn=function(t){S(typeof t=="number"&&t>=0);var n=t%26,o=(t-n)/26,s=1<<n;if(this.length<=o)return!1;var u=this.words[o];return!!(u&s)},g.prototype.imaskn=function(t){S(typeof t=="number"&&t>=0);var n=t%26,o=(t-n)/26;if(S(this.negative===0,"imaskn works only with positive numbers"),this.length<=o)return this;if(n!==0&&o++,this.length=Math.min(o,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},g.prototype.maskn=function(t){return this.clone().imaskn(t)},g.prototype.iaddn=function(t){return S(typeof t=="number"),S(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},g.prototype._iaddn=function(t){this.words[0]+=t;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},g.prototype.isubn=function(t){if(S(typeof t=="number"),S(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},g.prototype.addn=function(t){return this.clone().iaddn(t)},g.prototype.subn=function(t){return this.clone().isubn(t)},g.prototype.iabs=function(){return this.negative=0,this},g.prototype.abs=function(){return this.clone().iabs()},g.prototype._ishlnsubmul=function(t,n,o){var s=t.length+o,u;this._expand(s);var d,m=0;for(u=0;u<t.length;u++){d=(this.words[u+o]|0)+m;var f=(t.words[u]|0)*n;d-=f&67108863,m=(d>>26)-(f/67108864|0),this.words[u+o]=d&67108863}for(;u<this.length-o;u++)d=(this.words[u+o]|0)+m,m=d>>26,this.words[u+o]=d&67108863;if(m===0)return this.strip();for(S(m===-1),m=0,u=0;u<this.length;u++)d=-(this.words[u]|0)+m,m=d>>26,this.words[u]=d&67108863;return this.negative=1,this.strip()},g.prototype._wordDiv=function(t,n){var o=this.length-t.length,s=this.clone(),u=t,d=u.words[u.length-1]|0,m=this._countBits(d);o=26-m,o!==0&&(u=u.ushln(o),s.iushln(o),d=u.words[u.length-1]|0);var f=s.length-u.length,r;if(n!=="mod"){r=new g(null),r.length=f+1,r.words=new Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var L=s.clone()._ishlnsubmul(u,1,f);L.negative===0&&(s=L,r&&(r.words[f]=1));for(var j=f-1;j>=0;j--){var I=(s.words[u.length+j]|0)*67108864+(s.words[u.length+j-1]|0);for(I=Math.min(I/d|0,67108863),s._ishlnsubmul(u,I,j);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(u,1,j),s.isZero()||(s.negative^=1);r&&(r.words[j]=I)}return r&&r.strip(),s.strip(),n!=="div"&&o!==0&&s.iushrn(o),{div:r||null,mod:s}},g.prototype.divmod=function(t,n,o){if(S(!t.isZero()),this.isZero())return{div:new g(0),mod:new g(0)};var s,u,d;return this.negative!==0&&t.negative===0?(d=this.neg().divmod(t,n),n!=="mod"&&(s=d.div.neg()),n!=="div"&&(u=d.mod.neg(),o&&u.negative!==0&&u.iadd(t)),{div:s,mod:u}):this.negative===0&&t.negative!==0?(d=this.divmod(t.neg(),n),n!=="mod"&&(s=d.div.neg()),{div:s,mod:d.mod}):this.negative&t.negative?(d=this.neg().divmod(t.neg(),n),n!=="div"&&(u=d.mod.neg(),o&&u.negative!==0&&u.isub(t)),{div:d.div,mod:u}):t.length>this.length||this.cmp(t)<0?{div:new g(0),mod:this}:t.length===1?n==="div"?{div:this.divn(t.words[0]),mod:null}:n==="mod"?{div:null,mod:new g(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new g(this.modn(t.words[0]))}:this._wordDiv(t,n)},g.prototype.div=function(t){return this.divmod(t,"div",!1).div},g.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},g.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},g.prototype.divRound=function(t){var n=this.divmod(t);if(n.mod.isZero())return n.div;var o=n.div.negative!==0?n.mod.isub(t):n.mod,s=t.ushrn(1),u=t.andln(1),d=o.cmp(s);return d<0||u===1&&d===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},g.prototype.modn=function(t){S(t<=67108863);for(var n=(1<<26)%t,o=0,s=this.length-1;s>=0;s--)o=(n*o+(this.words[s]|0))%t;return o},g.prototype.idivn=function(t){S(t<=67108863);for(var n=0,o=this.length-1;o>=0;o--){var s=(this.words[o]|0)+n*67108864;this.words[o]=s/t|0,n=s%t}return this.strip()},g.prototype.divn=function(t){return this.clone().idivn(t)},g.prototype.egcd=function(t){S(t.negative===0),S(!t.isZero());var n=this,o=t.clone();n.negative!==0?n=n.umod(t):n=n.clone();for(var s=new g(1),u=new g(0),d=new g(0),m=new g(1),f=0;n.isEven()&&o.isEven();)n.iushrn(1),o.iushrn(1),++f;for(var r=o.clone(),l=n.clone();!n.isZero();){for(var L=0,j=1;!(n.words[0]&j)&&L<26;++L,j<<=1);if(L>0)for(n.iushrn(L);L-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(r),u.isub(l)),s.iushrn(1),u.iushrn(1);for(var I=0,a=1;!(o.words[0]&a)&&I<26;++I,a<<=1);if(I>0)for(o.iushrn(I);I-- >0;)(d.isOdd()||m.isOdd())&&(d.iadd(r),m.isub(l)),d.iushrn(1),m.iushrn(1);n.cmp(o)>=0?(n.isub(o),s.isub(d),u.isub(m)):(o.isub(n),d.isub(s),m.isub(u))}return{a:d,b:m,gcd:o.iushln(f)}},g.prototype._invmp=function(t){S(t.negative===0),S(!t.isZero());var n=this,o=t.clone();n.negative!==0?n=n.umod(t):n=n.clone();for(var s=new g(1),u=new g(0),d=o.clone();n.cmpn(1)>0&&o.cmpn(1)>0;){for(var m=0,f=1;!(n.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(n.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(d),s.iushrn(1);for(var r=0,l=1;!(o.words[0]&l)&&r<26;++r,l<<=1);if(r>0)for(o.iushrn(r);r-- >0;)u.isOdd()&&u.iadd(d),u.iushrn(1);n.cmp(o)>=0?(n.isub(o),s.isub(u)):(o.isub(n),u.isub(s))}var L;return n.cmpn(1)===0?L=s:L=u,L.cmpn(0)<0&&L.iadd(t),L},g.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var n=this.clone(),o=t.clone();n.negative=0,o.negative=0;for(var s=0;n.isEven()&&o.isEven();s++)n.iushrn(1),o.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;o.isEven();)o.iushrn(1);var u=n.cmp(o);if(u<0){var d=n;n=o,o=d}else if(u===0||o.cmpn(1)===0)break;n.isub(o)}while(!0);return o.iushln(s)},g.prototype.invm=function(t){return this.egcd(t).a.umod(t)},g.prototype.isEven=function(){return(this.words[0]&1)===0},g.prototype.isOdd=function(){return(this.words[0]&1)===1},g.prototype.andln=function(t){return this.words[0]&t},g.prototype.bincn=function(t){S(typeof t=="number");var n=t%26,o=(t-n)/26,s=1<<n;if(this.length<=o)return this._expand(o+1),this.words[o]|=s,this;for(var u=s,d=o;u!==0&&d<this.length;d++){var m=this.words[d]|0;m+=u,u=m>>>26,m&=67108863,this.words[d]=m}return u!==0&&(this.words[d]=u,this.length++),this},g.prototype.isZero=function(){return this.length===1&&this.words[0]===0},g.prototype.cmpn=function(t){var n=t<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var o;if(this.length>1)o=1;else{n&&(t=-t),S(t<=67108863,"Number is too big");var s=this.words[0]|0;o=s===t?0:s<t?-1:1}return this.negative!==0?-o|0:o},g.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var n=this.ucmp(t);return this.negative!==0?-n|0:n},g.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var n=0,o=this.length-1;o>=0;o--){var s=this.words[o]|0,u=t.words[o]|0;if(s!==u){s<u?n=-1:s>u&&(n=1);break}}return n},g.prototype.gtn=function(t){return this.cmpn(t)===1},g.prototype.gt=function(t){return this.cmp(t)===1},g.prototype.gten=function(t){return this.cmpn(t)>=0},g.prototype.gte=function(t){return this.cmp(t)>=0},g.prototype.ltn=function(t){return this.cmpn(t)===-1},g.prototype.lt=function(t){return this.cmp(t)===-1},g.prototype.lten=function(t){return this.cmpn(t)<=0},g.prototype.lte=function(t){return this.cmp(t)<=0},g.prototype.eqn=function(t){return this.cmpn(t)===0},g.prototype.eq=function(t){return this.cmp(t)===0},g.red=function(t){return new ht(t)},g.prototype.toRed=function(t){return S(!this.red,"Already a number in reduction context"),S(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},g.prototype.fromRed=function(){return S(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},g.prototype._forceRed=function(t){return this.red=t,this},g.prototype.forceRed=function(t){return S(!this.red,"Already a number in reduction context"),this._forceRed(t)},g.prototype.redAdd=function(t){return S(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},g.prototype.redIAdd=function(t){return S(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},g.prototype.redSub=function(t){return S(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},g.prototype.redISub=function(t){return S(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},g.prototype.redShl=function(t){return S(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},g.prototype.redMul=function(t){return S(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},g.prototype.redIMul=function(t){return S(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},g.prototype.redSqr=function(){return S(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},g.prototype.redISqr=function(){return S(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},g.prototype.redSqrt=function(){return S(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},g.prototype.redInvm=function(){return S(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},g.prototype.redNeg=function(){return S(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},g.prototype.redPow=function(t){return S(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var K={k256:null,p224:null,p192:null,p25519:null};function U(O,t){this.name=O,this.p=new g(t,16),this.n=this.p.bitLength(),this.k=new g(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var t=new g(null);return t.words=new Array(Math.ceil(this.n/13)),t},U.prototype.ireduce=function(t){var n=t,o;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),o=n.bitLength();while(o>this.n);var s=o<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip(),n},U.prototype.split=function(t,n){t.iushrn(this.n,0,n)},U.prototype.imulK=function(t){return t.imul(this.k)};function nt(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}B(nt,U),nt.prototype.split=function(t,n){for(var o=4194303,s=Math.min(t.length,9),u=0;u<s;u++)n.words[u]=t.words[u];if(n.length=s,t.length<=9){t.words[0]=0,t.length=1;return}var d=t.words[9];for(n.words[n.length++]=d&o,u=10;u<t.length;u++){var m=t.words[u]|0;t.words[u-10]=(m&o)<<4|d>>>22,d=m}d>>>=22,t.words[u-10]=d,d===0&&t.length>10?t.length-=10:t.length-=9},nt.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var n=0,o=0;o<t.length;o++){var s=t.words[o]|0;n+=s*977,t.words[o]=n&67108863,n=s*64+(n/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function dt(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}B(dt,U);function it(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}B(it,U);function At(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}B(At,U),At.prototype.imulK=function(t){for(var n=0,o=0;o<t.length;o++){var s=(t.words[o]|0)*19+n,u=s&67108863;s>>>=26,t.words[o]=u,n=s}return n!==0&&(t.words[t.length++]=n),t},g._prime=function(t){if(K[t])return K[t];var n;if(t==="k256")n=new nt;else if(t==="p224")n=new dt;else if(t==="p192")n=new it;else if(t==="p25519")n=new At;else throw new Error("Unknown prime "+t);return K[t]=n,n};function ht(O){if(typeof O=="string"){var t=g._prime(O);this.m=t.p,this.prime=t}else S(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}ht.prototype._verify1=function(t){S(t.negative===0,"red works only with positives"),S(t.red,"red works only with red numbers")},ht.prototype._verify2=function(t,n){S((t.negative|n.negative)===0,"red works only with positives"),S(t.red&&t.red===n.red,"red works only with red numbers")},ht.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},ht.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},ht.prototype.add=function(t,n){this._verify2(t,n);var o=t.add(n);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},ht.prototype.iadd=function(t,n){this._verify2(t,n);var o=t.iadd(n);return o.cmp(this.m)>=0&&o.isub(this.m),o},ht.prototype.sub=function(t,n){this._verify2(t,n);var o=t.sub(n);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},ht.prototype.isub=function(t,n){this._verify2(t,n);var o=t.isub(n);return o.cmpn(0)<0&&o.iadd(this.m),o},ht.prototype.shl=function(t,n){return this._verify1(t),this.imod(t.ushln(n))},ht.prototype.imul=function(t,n){return this._verify2(t,n),this.imod(t.imul(n))},ht.prototype.mul=function(t,n){return this._verify2(t,n),this.imod(t.mul(n))},ht.prototype.isqr=function(t){return this.imul(t,t.clone())},ht.prototype.sqr=function(t){return this.mul(t,t)},ht.prototype.sqrt=function(t){if(t.isZero())return t.clone();var n=this.m.andln(3);if(S(n%2===1),n===3){var o=this.m.add(new g(1)).iushrn(2);return this.pow(t,o)}for(var s=this.m.subn(1),u=0;!s.isZero()&&s.andln(1)===0;)u++,s.iushrn(1);S(!s.isZero());var d=new g(1).toRed(this),m=d.redNeg(),f=this.m.subn(1).iushrn(1),r=this.m.bitLength();for(r=new g(2*r*r).toRed(this);this.pow(r,f).cmp(m)!==0;)r.redIAdd(m);for(var l=this.pow(r,s),L=this.pow(t,s.addn(1).iushrn(1)),j=this.pow(t,s),I=u;j.cmp(d)!==0;){for(var a=j,e=0;a.cmp(d)!==0;e++)a=a.redSqr();S(e<I);var h=this.pow(l,new g(1).iushln(I-e-1));L=L.redMul(h),l=h.redSqr(),j=j.redMul(l),I=e}return L},ht.prototype.invm=function(t){var n=t._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},ht.prototype.pow=function(t,n){if(n.isZero())return new g(1).toRed(this);if(n.cmpn(1)===0)return t.clone();var o=4,s=new Array(1<<o);s[0]=new g(1).toRed(this),s[1]=t;for(var u=2;u<s.length;u++)s[u]=this.mul(s[u-1],t);var d=s[0],m=0,f=0,r=n.bitLength()%26;for(r===0&&(r=26),u=n.length-1;u>=0;u--){for(var l=n.words[u],L=r-1;L>=0;L--){var j=l>>L&1;if(d!==s[0]&&(d=this.sqr(d)),j===0&&m===0){f=0;continue}m<<=1,m|=j,f++,!(f!==o&&(u!==0||L!==0))&&(d=this.mul(d,s[m]),f=0,m=0)}r=26}return d},ht.prototype.convertTo=function(t){var n=t.umod(this.m);return n===t?n.clone():n},ht.prototype.convertFrom=function(t){var n=t.clone();return n.red=null,n},g.mont=function(t){return new Ft(t)};function Ft(O){ht.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new g(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}B(Ft,ht),Ft.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Ft.prototype.convertFrom=function(t){var n=this.imod(t.mul(this.rinv));return n.red=null,n},Ft.prototype.imul=function(t,n){if(t.isZero()||n.isZero())return t.words[0]=0,t.length=1,t;var o=t.imul(n),s=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=o.isub(s).iushrn(this.shift),d=u;return u.cmp(this.m)>=0?d=u.isub(this.m):u.cmpn(0)<0&&(d=u.iadd(this.m)),d._forceRed(this)},Ft.prototype.mul=function(t,n){if(t.isZero()||n.isZero())return new g(0)._forceRed(this);var o=t.mul(n),s=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=o.isub(s).iushrn(this.shift),d=u;return u.cmp(this.m)>=0?d=u.isub(this.m):u.cmpn(0)<0&&(d=u.iadd(this.m)),d._forceRed(this)},Ft.prototype.invm=function(t){var n=this.imod(t._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(c,Te)})(Fe);var Co=Fe.exports;const Bo=Je(Co);var Po=Ne;Ne.strict=or;Ne.loose=sr;var Fo=Object.prototype.toString,No={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Ne(c){return or(c)||sr(c)}function or(c){return c instanceof Int8Array||c instanceof Int16Array||c instanceof Int32Array||c instanceof Uint8Array||c instanceof Uint8ClampedArray||c instanceof Uint16Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array}function sr(c){return No[Fo.call(c)]}var qo=Po.strict,Lo=function(i){if(qo(i)){var y=Buffer.from(i.buffer);return i.byteLength!==i.buffer.byteLength&&(y=y.slice(i.byteOffset,i.byteOffset+i.byteLength)),y}else return Buffer.from(i)};const Do=Je(Lo),ar="hex",ur="utf8",ce="0";function ie(c){return new Uint8Array(c)}function fr(c,i=!1){const y=c.toString(ar);return i?se(y):y}function zo(c){return c.toString(ur)}function le(c){return Do(c)}function re(c,i=!1){return fr(le(c),i)}function jo(c){return zo(le(c))}function Wo(c){return Buffer.from(Vt(c),ar)}function ne(c){return ie(Wo(c))}function qe(c){return Buffer.from(c,ur)}function Uo(c){return ie(qe(c))}function Ho(c,i=!1){return fr(qe(c),i)}function Go(c,i){return!(typeof c!="string"||!c.match(/^0x[0-9A-Fa-f]*$/))}function hr(...c){let i=[];return c.forEach(y=>i=i.concat(Array.from(y))),new Uint8Array([...i])}function $o(c,i=8){const y=c%i;return y?(c-y)/i*i+i:c}function Ko(c,i=8,y=ce){return Vo(c,$o(c.length,i),y)}function Vo(c,i,y=ce){return Jo(c,i,!0,y)}function Vt(c){return c.replace(/^0x/,"")}function se(c){return c.startsWith("0x")?c:`0x${c}`}function cr(c){return c=Vt(c),c=Ko(c,2),c&&(c=se(c)),c}function Qo(c){const i=c.startsWith("0x");return c=Vt(c),c=c.startsWith(ce)?c.substring(1):c,i?se(c):c}function Jo(c,i,y,S=ce){const B=i-c.length;let g=c;return B>0&&(g=S.repeat(B)+c),g}function Re(c){return le(new Uint8Array(c))}function Zo(c,i){return re(new Uint8Array(c),!1)}function Xo(c){return ie(c).buffer}function Yo(c){return qe(c)}function ts(c,i){return Ho(c,!0)}function es(c){return ne(c).buffer}function lr(c,i){const y=Vt(cr(new Bo(c).toString(16)));return i?y:se(y)}var dr={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(c){(function(){var i="input is invalid type",y="finalize already called",S=typeof window=="object",B=S?window:{};B.JS_SHA3_NO_WINDOW&&(S=!1);var g=!S&&typeof self=="object",C=!B.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;C?B=Te:g&&(B=self);var F=!B.JS_SHA3_NO_COMMON_JS&&!0&&c.exports,W=!B.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",w="0123456789abcdef".split(""),x=[31,7936,2031616,520093696],R=[4,1024,262144,67108864],et=[1,256,65536,16777216],H=[6,1536,393216,100663296],D=[0,8,16,24],G=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],P=[224,256,384,512],N=[128,256],K=["hex","buffer","arrayBuffer","array","digest"],U={128:168,256:136};(B.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}),W&&(B.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return typeof e=="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var nt=function(e,h,p){return function(v){return new j(e,h,e).update(v)[p]()}},dt=function(e,h,p){return function(v,b){return new j(e,h,b).update(v)[p]()}},it=function(e,h,p){return function(v,b,T,_){return s["cshake"+e].update(v,b,T,_)[p]()}},At=function(e,h,p){return function(v,b,T,_){return s["kmac"+e].update(v,b,T,_)[p]()}},ht=function(e,h,p,v){for(var b=0;b<K.length;++b){var T=K[b];e[T]=h(p,v,T)}return e},Ft=function(e,h){var p=nt(e,h,"hex");return p.create=function(){return new j(e,h,e)},p.update=function(v){return p.create().update(v)},ht(p,nt,e,h)},O=function(e,h){var p=dt(e,h,"hex");return p.create=function(v){return new j(e,h,v)},p.update=function(v,b){return p.create(b).update(v)},ht(p,dt,e,h)},t=function(e,h){var p=U[e],v=it(e,h,"hex");return v.create=function(b,T,_){return!T&&!_?s["shake"+e].create(b):new j(e,h,b).bytepad([T,_],p)},v.update=function(b,T,_,M){return v.create(T,_,M).update(b)},ht(v,it,e,h)},n=function(e,h){var p=U[e],v=At(e,h,"hex");return v.create=function(b,T,_){return new I(e,h,T).bytepad(["KMAC",_],p).bytepad([b],p)},v.update=function(b,T,_,M){return v.create(b,_,M).update(T)},ht(v,At,e,h)},o=[{name:"keccak",padding:et,bits:P,createMethod:Ft},{name:"sha3",padding:H,bits:P,createMethod:Ft},{name:"shake",padding:x,bits:N,createMethod:O},{name:"cshake",padding:R,bits:N,createMethod:t},{name:"kmac",padding:R,bits:N,createMethod:n}],s={},u=[],d=0;d<o.length;++d)for(var m=o[d],f=m.bits,r=0;r<f.length;++r){var l=m.name+"_"+f[r];if(u.push(l),s[l]=m.createMethod(f[r],m.padding),m.name!=="sha3"){var L=m.name+f[r];u.push(L),s[L]=s[l]}}function j(e,h,p){this.blocks=[],this.s=[],this.padding=h,this.outputBits=p,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=p>>5,this.extraBytes=(p&31)>>3;for(var v=0;v<50;++v)this.s[v]=0}j.prototype.update=function(e){if(this.finalized)throw new Error(y);var h,p=typeof e;if(p!=="string"){if(p==="object"){if(e===null)throw new Error(i);if(W&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!W||!ArrayBuffer.isView(e)))throw new Error(i)}else throw new Error(i);h=!0}for(var v=this.blocks,b=this.byteCount,T=e.length,_=this.blockCount,M=0,A=this.s,k,E;M<T;){if(this.reset)for(this.reset=!1,v[0]=this.block,k=1;k<_+1;++k)v[k]=0;if(h)for(k=this.start;M<T&&k<b;++M)v[k>>2]|=e[M]<<D[k++&3];else for(k=this.start;M<T&&k<b;++M)E=e.charCodeAt(M),E<128?v[k>>2]|=E<<D[k++&3]:E<2048?(v[k>>2]|=(192|E>>6)<<D[k++&3],v[k>>2]|=(128|E&63)<<D[k++&3]):E<55296||E>=57344?(v[k>>2]|=(224|E>>12)<<D[k++&3],v[k>>2]|=(128|E>>6&63)<<D[k++&3],v[k>>2]|=(128|E&63)<<D[k++&3]):(E=65536+((E&1023)<<10|e.charCodeAt(++M)&1023),v[k>>2]|=(240|E>>18)<<D[k++&3],v[k>>2]|=(128|E>>12&63)<<D[k++&3],v[k>>2]|=(128|E>>6&63)<<D[k++&3],v[k>>2]|=(128|E&63)<<D[k++&3]);if(this.lastByteIndex=k,k>=b){for(this.start=k-b,this.block=v[_],k=0;k<_;++k)A[k]^=v[k];a(A),this.reset=!0}else this.start=k}return this},j.prototype.encode=function(e,h){var p=e&255,v=1,b=[p];for(e=e>>8,p=e&255;p>0;)b.unshift(p),e=e>>8,p=e&255,++v;return h?b.push(v):b.unshift(v),this.update(b),b.length},j.prototype.encodeString=function(e){var h,p=typeof e;if(p!=="string"){if(p==="object"){if(e===null)throw new Error(i);if(W&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!W||!ArrayBuffer.isView(e)))throw new Error(i)}else throw new Error(i);h=!0}var v=0,b=e.length;if(h)v=b;else for(var T=0;T<e.length;++T){var _=e.charCodeAt(T);_<128?v+=1:_<2048?v+=2:_<55296||_>=57344?v+=3:(_=65536+((_&1023)<<10|e.charCodeAt(++T)&1023),v+=4)}return v+=this.encode(v*8),this.update(e),v},j.prototype.bytepad=function(e,h){for(var p=this.encode(h),v=0;v<e.length;++v)p+=this.encodeString(e[v]);var b=h-p%h,T=[];return T.length=b,this.update(T),this},j.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,h=this.lastByteIndex,p=this.blockCount,v=this.s;if(e[h>>2]|=this.padding[h&3],this.lastByteIndex===this.byteCount)for(e[0]=e[p],h=1;h<p+1;++h)e[h]=0;for(e[p-1]|=2147483648,h=0;h<p;++h)v[h]^=e[h];a(v)}},j.prototype.toString=j.prototype.hex=function(){this.finalize();for(var e=this.blockCount,h=this.s,p=this.outputBlocks,v=this.extraBytes,b=0,T=0,_="",M;T<p;){for(b=0;b<e&&T<p;++b,++T)M=h[b],_+=w[M>>4&15]+w[M&15]+w[M>>12&15]+w[M>>8&15]+w[M>>20&15]+w[M>>16&15]+w[M>>28&15]+w[M>>24&15];T%e===0&&(a(h),b=0)}return v&&(M=h[b],_+=w[M>>4&15]+w[M&15],v>1&&(_+=w[M>>12&15]+w[M>>8&15]),v>2&&(_+=w[M>>20&15]+w[M>>16&15])),_},j.prototype.arrayBuffer=function(){this.finalize();var e=this.blockCount,h=this.s,p=this.outputBlocks,v=this.extraBytes,b=0,T=0,_=this.outputBits>>3,M;v?M=new ArrayBuffer(p+1<<2):M=new ArrayBuffer(_);for(var A=new Uint32Array(M);T<p;){for(b=0;b<e&&T<p;++b,++T)A[T]=h[b];T%e===0&&a(h)}return v&&(A[b]=h[b],M=M.slice(0,_)),M},j.prototype.buffer=j.prototype.arrayBuffer,j.prototype.digest=j.prototype.array=function(){this.finalize();for(var e=this.blockCount,h=this.s,p=this.outputBlocks,v=this.extraBytes,b=0,T=0,_=[],M,A;T<p;){for(b=0;b<e&&T<p;++b,++T)M=T<<2,A=h[b],_[M]=A&255,_[M+1]=A>>8&255,_[M+2]=A>>16&255,_[M+3]=A>>24&255;T%e===0&&a(h)}return v&&(M=T<<2,A=h[b],_[M]=A&255,v>1&&(_[M+1]=A>>8&255),v>2&&(_[M+2]=A>>16&255)),_};function I(e,h,p){j.call(this,e,h,p)}I.prototype=new j,I.prototype.finalize=function(){return this.encode(this.outputBits,!0),j.prototype.finalize.call(this)};var a=function(e){var h,p,v,b,T,_,M,A,k,E,$,z,q,Y,Q,J,ct,V,Z,rt,X,ft,wt,tt,ot,lt,st,at,St,ut,gt,Lt,mt,_t,Dt,pt,Mt,Nt,vt,bt,qt,yt,kt,Jt,Ot,Rt,Zt,It,Tt,Xt,Et,Ct,Yt,Bt,Pt,zt,jt,Wt,Ut,Ht,Gt,$t,Kt;for(v=0;v<48;v+=2)b=e[0]^e[10]^e[20]^e[30]^e[40],T=e[1]^e[11]^e[21]^e[31]^e[41],_=e[2]^e[12]^e[22]^e[32]^e[42],M=e[3]^e[13]^e[23]^e[33]^e[43],A=e[4]^e[14]^e[24]^e[34]^e[44],k=e[5]^e[15]^e[25]^e[35]^e[45],E=e[6]^e[16]^e[26]^e[36]^e[46],$=e[7]^e[17]^e[27]^e[37]^e[47],z=e[8]^e[18]^e[28]^e[38]^e[48],q=e[9]^e[19]^e[29]^e[39]^e[49],h=z^(_<<1|M>>>31),p=q^(M<<1|_>>>31),e[0]^=h,e[1]^=p,e[10]^=h,e[11]^=p,e[20]^=h,e[21]^=p,e[30]^=h,e[31]^=p,e[40]^=h,e[41]^=p,h=b^(A<<1|k>>>31),p=T^(k<<1|A>>>31),e[2]^=h,e[3]^=p,e[12]^=h,e[13]^=p,e[22]^=h,e[23]^=p,e[32]^=h,e[33]^=p,e[42]^=h,e[43]^=p,h=_^(E<<1|$>>>31),p=M^($<<1|E>>>31),e[4]^=h,e[5]^=p,e[14]^=h,e[15]^=p,e[24]^=h,e[25]^=p,e[34]^=h,e[35]^=p,e[44]^=h,e[45]^=p,h=A^(z<<1|q>>>31),p=k^(q<<1|z>>>31),e[6]^=h,e[7]^=p,e[16]^=h,e[17]^=p,e[26]^=h,e[27]^=p,e[36]^=h,e[37]^=p,e[46]^=h,e[47]^=p,h=E^(b<<1|T>>>31),p=$^(T<<1|b>>>31),e[8]^=h,e[9]^=p,e[18]^=h,e[19]^=p,e[28]^=h,e[29]^=p,e[38]^=h,e[39]^=p,e[48]^=h,e[49]^=p,Y=e[0],Q=e[1],Rt=e[11]<<4|e[10]>>>28,Zt=e[10]<<4|e[11]>>>28,at=e[20]<<3|e[21]>>>29,St=e[21]<<3|e[20]>>>29,Ht=e[31]<<9|e[30]>>>23,Gt=e[30]<<9|e[31]>>>23,yt=e[40]<<18|e[41]>>>14,kt=e[41]<<18|e[40]>>>14,_t=e[2]<<1|e[3]>>>31,Dt=e[3]<<1|e[2]>>>31,J=e[13]<<12|e[12]>>>20,ct=e[12]<<12|e[13]>>>20,It=e[22]<<10|e[23]>>>22,Tt=e[23]<<10|e[22]>>>22,ut=e[33]<<13|e[32]>>>19,gt=e[32]<<13|e[33]>>>19,$t=e[42]<<2|e[43]>>>30,Kt=e[43]<<2|e[42]>>>30,Bt=e[5]<<30|e[4]>>>2,Pt=e[4]<<30|e[5]>>>2,pt=e[14]<<6|e[15]>>>26,Mt=e[15]<<6|e[14]>>>26,V=e[25]<<11|e[24]>>>21,Z=e[24]<<11|e[25]>>>21,Xt=e[34]<<15|e[35]>>>17,Et=e[35]<<15|e[34]>>>17,Lt=e[45]<<29|e[44]>>>3,mt=e[44]<<29|e[45]>>>3,tt=e[6]<<28|e[7]>>>4,ot=e[7]<<28|e[6]>>>4,zt=e[17]<<23|e[16]>>>9,jt=e[16]<<23|e[17]>>>9,Nt=e[26]<<25|e[27]>>>7,vt=e[27]<<25|e[26]>>>7,rt=e[36]<<21|e[37]>>>11,X=e[37]<<21|e[36]>>>11,Ct=e[47]<<24|e[46]>>>8,Yt=e[46]<<24|e[47]>>>8,Jt=e[8]<<27|e[9]>>>5,Ot=e[9]<<27|e[8]>>>5,lt=e[18]<<20|e[19]>>>12,st=e[19]<<20|e[18]>>>12,Wt=e[29]<<7|e[28]>>>25,Ut=e[28]<<7|e[29]>>>25,bt=e[38]<<8|e[39]>>>24,qt=e[39]<<8|e[38]>>>24,ft=e[48]<<14|e[49]>>>18,wt=e[49]<<14|e[48]>>>18,e[0]=Y^~J&V,e[1]=Q^~ct&Z,e[10]=tt^~lt&at,e[11]=ot^~st&St,e[20]=_t^~pt&Nt,e[21]=Dt^~Mt&vt,e[30]=Jt^~Rt&It,e[31]=Ot^~Zt&Tt,e[40]=Bt^~zt&Wt,e[41]=Pt^~jt&Ut,e[2]=J^~V&rt,e[3]=ct^~Z&X,e[12]=lt^~at&ut,e[13]=st^~St&gt,e[22]=pt^~Nt&bt,e[23]=Mt^~vt&qt,e[32]=Rt^~It&Xt,e[33]=Zt^~Tt&Et,e[42]=zt^~Wt&Ht,e[43]=jt^~Ut&Gt,e[4]=V^~rt&ft,e[5]=Z^~X&wt,e[14]=at^~ut&Lt,e[15]=St^~gt&mt,e[24]=Nt^~bt&yt,e[25]=vt^~qt&kt,e[34]=It^~Xt&Ct,e[35]=Tt^~Et&Yt,e[44]=Wt^~Ht&$t,e[45]=Ut^~Gt&Kt,e[6]=rt^~ft&Y,e[7]=X^~wt&Q,e[16]=ut^~Lt&tt,e[17]=gt^~mt&ot,e[26]=bt^~yt&_t,e[27]=qt^~kt&Dt,e[36]=Xt^~Ct&Jt,e[37]=Et^~Yt&Ot,e[46]=Ht^~$t&Bt,e[47]=Gt^~Kt&Pt,e[8]=ft^~Y&J,e[9]=wt^~Q&ct,e[18]=Lt^~tt&lt,e[19]=mt^~ot&st,e[28]=yt^~_t&pt,e[29]=kt^~Dt&Mt,e[38]=Ct^~Jt&Rt,e[39]=Yt^~Ot&Zt,e[48]=$t^~Bt&zt,e[49]=Kt^~Pt&jt,e[0]^=G[v],e[1]^=G[v+1]};if(F)c.exports=s;else for(d=0;d<u.length;++d)B[u[d]]=s[u[d]]})()})(dr);var rs=dr.exports;function fe(c){return cr(c)}function ns(c){return Qo(se(c))}const is=ji;function xe(){return((i,y)=>{for(y=i="";i++<36;y+=i*51&52?(i^15?8^Math.random()*(i^20?16:4):4).toString(16):"-");return y})()}function os(c){return c===""||typeof c=="string"&&c.trim()===""}function ss(c){return!(c&&c.length)}function pr(c,i){return Go(c)}function as(c){return typeof c.method<"u"}function ae(c){return typeof c.result<"u"}function he(c){return typeof c.error<"u"}function Ge(c){return typeof c.event<"u"}function us(c){return Eo.includes(c)||c.startsWith("wc_")}function fs(c){return c.method.startsWith("wc_")?!0:!ir.includes(c.method)}function hs(c){c=Vt(c.toLowerCase());const i=Vt(rs.keccak_256(Yo(c)));let y="";for(let S=0;S<c.length;S++)parseInt(i[S],16)>7?y+=c[S].toUpperCase():y+=c[S];return se(y)}const cs=c=>c?c.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(c)?/^(0x)?[0-9a-f]{40}$/.test(c)||/^(0x)?[0-9A-F]{40}$/.test(c)?!0:c===hs(c):!1:!1;function $e(c){return!ss(c)&&!pr(c[0])&&(c[0]=ts(c[0])),c}function Ae(c){if(typeof c.type<"u"&&c.type!=="0")return c;if(typeof c.from>"u"||!cs(c.from))throw new Error("Transaction object must include a valid 'from' value.");function i(B){let g=B;return(typeof B=="number"||typeof B=="string"&&!os(B))&&(pr(B)?typeof B=="string"&&(g=fe(B)):g=lr(B)),typeof g=="string"&&(g=ns(g)),g}const y={from:fe(c.from),to:typeof c.to>"u"?void 0:fe(c.to),gasPrice:typeof c.gasPrice>"u"?"":i(c.gasPrice),gas:typeof c.gas>"u"?typeof c.gasLimit>"u"?"":i(c.gasLimit):i(c.gas),value:typeof c.value>"u"?"":i(c.value),nonce:typeof c.nonce>"u"?"":i(c.nonce),data:typeof c.data>"u"?"":fe(c.data)||"0x"},S=["gasPrice","gas","value","nonce"];return Object.keys(y).forEach(B=>{(typeof y[B]>"u"||typeof y[B]=="string"&&!y[B].trim().length)&&S.includes(B)&&delete y[B]}),y}function ls(c){const i=c.message||"Failed or Rejected Request";let y=-32e3;if(c&&!c.code)switch(i){case"Parse error":y=-32700;break;case"Invalid request":y=-32600;break;case"Method not found":y=-32601;break;case"Invalid params":y=-32602;break;case"Internal error":y=-32603;break;default:y=-32e3;break}const S={code:y,message:i};return c.data&&(S.data=c.data),S}var Le={};(function(c){const i=Ui,y=Hi,S=Wi,B=P=>P==null;function g(P){switch(P.arrayFormat){case"index":return N=>(K,U)=>{const nt=K.length;return U===void 0||P.skipNull&&U===null||P.skipEmptyString&&U===""?K:U===null?[...K,[W(N,P),"[",nt,"]"].join("")]:[...K,[W(N,P),"[",W(nt,P),"]=",W(U,P)].join("")]};case"bracket":return N=>(K,U)=>U===void 0||P.skipNull&&U===null||P.skipEmptyString&&U===""?K:U===null?[...K,[W(N,P),"[]"].join("")]:[...K,[W(N,P),"[]=",W(U,P)].join("")];case"comma":case"separator":return N=>(K,U)=>U==null||U.length===0?K:K.length===0?[[W(N,P),"=",W(U,P)].join("")]:[[K,W(U,P)].join(P.arrayFormatSeparator)];default:return N=>(K,U)=>U===void 0||P.skipNull&&U===null||P.skipEmptyString&&U===""?K:U===null?[...K,W(N,P)]:[...K,[W(N,P),"=",W(U,P)].join("")]}}function C(P){let N;switch(P.arrayFormat){case"index":return(K,U,nt)=>{if(N=/\[(\d*)\]$/.exec(K),K=K.replace(/\[\d*\]$/,""),!N){nt[K]=U;return}nt[K]===void 0&&(nt[K]={}),nt[K][N[1]]=U};case"bracket":return(K,U,nt)=>{if(N=/(\[\])$/.exec(K),K=K.replace(/\[\]$/,""),!N){nt[K]=U;return}if(nt[K]===void 0){nt[K]=[U];return}nt[K]=[].concat(nt[K],U)};case"comma":case"separator":return(K,U,nt)=>{const it=typeof U=="string"&&U.split("").indexOf(P.arrayFormatSeparator)>-1?U.split(P.arrayFormatSeparator).map(At=>w(At,P)):U===null?U:w(U,P);nt[K]=it};default:return(K,U,nt)=>{if(nt[K]===void 0){nt[K]=U;return}nt[K]=[].concat(nt[K],U)}}}function F(P){if(typeof P!="string"||P.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function W(P,N){return N.encode?N.strict?i(P):encodeURIComponent(P):P}function w(P,N){return N.decode?y(P):P}function x(P){return Array.isArray(P)?P.sort():typeof P=="object"?x(Object.keys(P)).sort((N,K)=>Number(N)-Number(K)).map(N=>P[N]):P}function R(P){const N=P.indexOf("#");return N!==-1&&(P=P.slice(0,N)),P}function et(P){let N="";const K=P.indexOf("#");return K!==-1&&(N=P.slice(K)),N}function H(P){P=R(P);const N=P.indexOf("?");return N===-1?"":P.slice(N+1)}function D(P,N){return N.parseNumbers&&!Number.isNaN(Number(P))&&typeof P=="string"&&P.trim()!==""?P=Number(P):N.parseBooleans&&P!==null&&(P.toLowerCase()==="true"||P.toLowerCase()==="false")&&(P=P.toLowerCase()==="true"),P}function G(P,N){N=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},N),F(N.arrayFormatSeparator);const K=C(N),U=Object.create(null);if(typeof P!="string"||(P=P.trim().replace(/^[?#&]/,""),!P))return U;for(const nt of P.split("&")){let[dt,it]=S(N.decode?nt.replace(/\+/g," "):nt,"=");it=it===void 0?null:["comma","separator"].includes(N.arrayFormat)?it:w(it,N),K(w(dt,N),it,U)}for(const nt of Object.keys(U)){const dt=U[nt];if(typeof dt=="object"&&dt!==null)for(const it of Object.keys(dt))dt[it]=D(dt[it],N);else U[nt]=D(dt,N)}return N.sort===!1?U:(N.sort===!0?Object.keys(U).sort():Object.keys(U).sort(N.sort)).reduce((nt,dt)=>{const it=U[dt];return it&&typeof it=="object"&&!Array.isArray(it)?nt[dt]=x(it):nt[dt]=it,nt},Object.create(null))}c.extract=H,c.parse=G,c.stringify=(P,N)=>{if(!P)return"";N=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},N),F(N.arrayFormatSeparator);const K=it=>N.skipNull&&B(P[it])||N.skipEmptyString&&P[it]==="",U=g(N),nt={};for(const it of Object.keys(P))K(it)||(nt[it]=P[it]);const dt=Object.keys(nt);return N.sort!==!1&&dt.sort(N.sort),dt.map(it=>{const At=P[it];return At===void 0?"":At===null?W(it,N):Array.isArray(At)?At.reduce(U(it),[]).join("&"):W(it,N)+"="+W(At,N)}).filter(it=>it.length>0).join("&")},c.parseUrl=(P,N)=>{N=Object.assign({decode:!0},N);const[K,U]=S(P,"#");return Object.assign({url:K.split("?")[0]||"",query:G(H(P),N)},N&&N.parseFragmentIdentifier&&U?{fragmentIdentifier:w(U,N)}:{})},c.stringifyUrl=(P,N)=>{N=Object.assign({encode:!0,strict:!0},N);const K=R(P.url).split("?")[0]||"",U=c.extract(P.url),nt=c.parse(U,{sort:!1}),dt=Object.assign(nt,P.query);let it=c.stringify(dt,N);it&&(it=`?${it}`);let At=et(P.url);return P.fragmentIdentifier&&(At=`#${W(P.fragmentIdentifier,N)}`),`${K}${it}${At}`}})(Le);function ds(c){const i=c.indexOf("?")!==-1?c.indexOf("?"):void 0;return typeof i<"u"?c.substr(i):""}function ps(c,i){let y=gr(c);return y=Object.assign(Object.assign({},y),i),c=gs(y),c}function gr(c){return Le.parse(c)}function gs(c){return Le.stringify(c)}function ms(c){return typeof c.bridge<"u"}function vs(c){const i=c.indexOf(":"),y=c.indexOf("?")!==-1?c.indexOf("?"):void 0,S=c.substring(0,i),B=c.substring(i+1,y);function g(R){const H=R.split("@");return{handshakeTopic:H[0],version:parseInt(H[1],10)}}const C=g(B),F=typeof y<"u"?c.substr(y):"";function W(R){const et=gr(R);return{key:et.key||"",bridge:et.bridge||""}}const w=W(F);return Object.assign(Object.assign({protocol:S},C),w)}class ys{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(i,y){this._eventEmitters.push({event:i,callback:y})}trigger(i){let y=[];i&&(y=this._eventEmitters.filter(S=>S.event===i)),y.forEach(S=>{S.callback()})}}const ws=typeof global.WebSocket<"u"?global.WebSocket:require("ws");class _s{constructor(i){if(this.opts=i,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=i.protocol,this._version=i.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=i.subscriptions||[],this._netMonitor=i.netMonitor||new ys,!i.url||typeof i.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=i.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(i){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(i){}get connecting(){return this.readyState===0}set connected(i){}get connected(){return this.readyState===1}set closing(i){}get closing(){return this.readyState===2}set closed(i){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(i,y,S){if(!y||typeof y!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:y,type:"pub",payload:i,silent:!!S})}subscribe(i){this._socketSend({topic:i,type:"sub",payload:"",silent:!0})}on(i,y){this._events.push({event:i,callback:y})}_socketCreate(){if(this._nextSocket)return;const i=Ms(this._url,this._protocol,this._version);if(this._nextSocket=new ws(i),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=y=>this._socketReceive(y),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=y=>this._socketError(y),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(i){const y=JSON.stringify(i);this._socket&&this._socket.readyState===1?this._socket.send(y):(this._setToQueue(i),this._socketCreate())}async _socketReceive(i){let y;try{y=JSON.parse(i.data)}catch{return}if(this._socketSend({topic:y.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const S=this._events.filter(B=>B.event==="message");S&&S.length&&S.forEach(B=>B.callback(y))}}_socketError(i){const y=this._events.filter(S=>S.event==="error");y&&y.length&&y.forEach(S=>S.callback(i))}_queueSubscriptions(){this._subscriptions.forEach(y=>this._queue.push({topic:y,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(i){this._queue.push(i)}_pushQueue(){this._queue.forEach(y=>this._socketSend(y)),this._queue=[]}}function Ms(c,i,y){var S,B;const C=(c.startsWith("https")?c.replace("https","wss"):c.startsWith("http")?c.replace("http","ws"):c).split("?"),F=So()?{protocol:i,version:y,env:"browser",host:((S=Ao())===null||S===void 0?void 0:S.host)||""}:{protocol:i,version:y,env:((B=Ce())===null||B===void 0?void 0:B.name)||""},W=ps(ds(C[1]||""),F);return C[0]+"?"+W}const ke="Session currently connected",te="Session currently disconnected",bs="Session Rejected",Ss="Missing JSON RPC response",xs='JSON-RPC success response must include "result" field',As='JSON-RPC error response must include "error" field',ks='JSON RPC request must have valid "method" value',Os='JSON RPC request must have valid "id" value',Rs="Missing one of the required parameters: bridge / uri / session",Ke="JSON RPC response format is invalid",Is="URI format is invalid",Ts="QRCode Modal not provided",Ve="User close QRCode Modal";class Es{constructor(){this._eventEmitters=[]}subscribe(i){this._eventEmitters.push(i)}unsubscribe(i){this._eventEmitters=this._eventEmitters.filter(y=>y.event!==i)}trigger(i){let y=[],S;as(i)?S=i.method:ae(i)||he(i)?S=`response:${i.id}`:Ge(i)?S=i.event:S="",S&&(y=this._eventEmitters.filter(B=>B.event===S)),(!y||!y.length)&&!us(S)&&!Ge(S)&&(y=this._eventEmitters.filter(B=>B.event==="call_request")),y.forEach(B=>{if(he(i)){const g=new Error(i.error.message);B.callback(g,null)}else B.callback(null,i)})}}class Cs{constructor(i="walletconnect"){this.storageId=i}getSession(){let i=null;const y=rr(this.storageId);return y&&ms(y)&&(i=y),i}setSession(i){return To(this.storageId,i),i}removeSession(){nr(this.storageId)}}const Bs="walletconnect.org",Ps="abcdefghijklmnopqrstuvwxyz0123456789",mr=Ps.split("").map(c=>`https://${c}.bridge.walletconnect.org`);function Fs(c){let i=c.indexOf("//")>-1?c.split("/")[2]:c.split("/")[0];return i=i.split(":")[0],i=i.split("?")[0],i}function Ns(c){return Fs(c).split(".").slice(-2).join(".")}function qs(){return Math.floor(Math.random()*mr.length)}function Ls(){return mr[qs()]}function Ds(c){return Ns(c)===Bs}function zs(c){return Ds(c)?Ls():c}class js{constructor(i){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new Es,this._clientMeta=Ue()||i.connectorOpts.clientMeta||null,this._cryptoLib=i.cryptoLib,this._sessionStorage=i.sessionStorage||new Cs(i.connectorOpts.storageId),this._qrcodeModal=i.connectorOpts.qrcodeModal,this._qrcodeModalOptions=i.connectorOpts.qrcodeModalOptions,this._signingMethods=[...ir,...i.connectorOpts.signingMethods||[]],!i.connectorOpts.bridge&&!i.connectorOpts.uri&&!i.connectorOpts.session)throw new Error(Rs);i.connectorOpts.bridge&&(this.bridge=zs(i.connectorOpts.bridge)),i.connectorOpts.uri&&(this.uri=i.connectorOpts.uri);const y=i.connectorOpts.session||this._getStorageSession();y&&(this.session=y),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=i.transport||new _s({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),i.connectorOpts.uri&&this._subscribeToSessionRequest(),i.pushServerOpts&&this._registerPushServer(i.pushServerOpts)}set bridge(i){i&&(this._bridge=i)}get bridge(){return this._bridge}set key(i){if(!i)return;const y=es(i);this._key=y}get key(){return this._key?Zo(this._key):""}set clientId(i){i&&(this._clientId=i)}get clientId(){let i=this._clientId;return i||(i=this._clientId=xe()),this._clientId}set peerId(i){i&&(this._peerId=i)}get peerId(){return this._peerId}set clientMeta(i){}get clientMeta(){let i=this._clientMeta;return i||(i=this._clientMeta=Ue()),i}set peerMeta(i){this._peerMeta=i}get peerMeta(){return this._peerMeta}set handshakeTopic(i){i&&(this._handshakeTopic=i)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(i){i&&(this._handshakeId=i)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(i){if(!i)return;const{handshakeTopic:y,bridge:S,key:B}=this._parseUri(i);this.handshakeTopic=y,this.bridge=S,this.key=B}set chainId(i){this._chainId=i}get chainId(){return this._chainId}set networkId(i){this._networkId=i}get networkId(){return this._networkId}set accounts(i){this._accounts=i}get accounts(){return this._accounts}set rpcUrl(i){this._rpcUrl=i}get rpcUrl(){return this._rpcUrl}set connected(i){}get connected(){return this._connected}set pending(i){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(i){i&&(this._connected=i.connected,this.accounts=i.accounts,this.chainId=i.chainId,this.bridge=i.bridge,this.key=i.key,this.clientId=i.clientId,this.clientMeta=i.clientMeta,this.peerId=i.peerId,this.peerMeta=i.peerMeta,this.handshakeId=i.handshakeId,this.handshakeTopic=i.handshakeTopic)}on(i,y){const S={event:i,callback:y};this._eventManager.subscribe(S)}off(i){this._eventManager.unsubscribe(i)}async createInstantRequest(i){this._key=await this._generateKey();const y=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(i)}]});this.handshakeId=y.id,this.handshakeTopic=xe(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Ve)});const S=()=>{this.killSession()};try{const B=await this._sendCallRequest(y);return B&&S(),B}catch(B){throw S(),B}}async connect(i){if(!this._qrcodeModal)throw new Error(Ts);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(i),new Promise(async(y,S)=>{this.on("modal_closed",()=>S(new Error(Ve))),this.on("connect",(B,g)=>{if(B)return S(B);y(g.params[0])})}))}async createSession(i){if(this._connected)throw new Error(ke);if(this.pending)return;this._key=await this._generateKey();const y=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:i&&i.chainId?i.chainId:null}]});this.handshakeId=y.id,this.handshakeTopic=xe(),this._sendSessionRequest(y,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(i){if(this._connected)throw new Error(ke);this.chainId=i.chainId,this.accounts=i.accounts,this.networkId=i.networkId||0,this.rpcUrl=i.rpcUrl||"";const y={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},S={id:this.handshakeId,jsonrpc:"2.0",result:y};this._sendResponse(S),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(i){if(this._connected)throw new Error(ke);const y=i&&i.message?i.message:bs,S=this._formatResponse({id:this.handshakeId,error:{message:y}});this._sendResponse(S),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:y}]}),this._removeStorageSession()}updateSession(i){if(!this._connected)throw new Error(te);this.chainId=i.chainId,this.accounts=i.accounts,this.networkId=i.networkId||0,this.rpcUrl=i.rpcUrl||"";const y={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},S=this._formatRequest({method:"wc_sessionUpdate",params:[y]});this._sendSessionRequest(S,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(i){const y=i?i.message:"Session Disconnected",S={approved:!1,chainId:null,networkId:null,accounts:null},B=this._formatRequest({method:"wc_sessionUpdate",params:[S]});await this._sendRequest(B),this._handleSessionDisconnect(y)}async sendTransaction(i){if(!this._connected)throw new Error(te);const y=Ae(i),S=this._formatRequest({method:"eth_sendTransaction",params:[y]});return await this._sendCallRequest(S)}async signTransaction(i){if(!this._connected)throw new Error(te);const y=Ae(i),S=this._formatRequest({method:"eth_signTransaction",params:[y]});return await this._sendCallRequest(S)}async signMessage(i){if(!this._connected)throw new Error(te);const y=this._formatRequest({method:"eth_sign",params:i});return await this._sendCallRequest(y)}async signPersonalMessage(i){if(!this._connected)throw new Error(te);i=$e(i);const y=this._formatRequest({method:"personal_sign",params:i});return await this._sendCallRequest(y)}async signTypedData(i){if(!this._connected)throw new Error(te);const y=this._formatRequest({method:"eth_signTypedData",params:i});return await this._sendCallRequest(y)}async updateChain(i){if(!this._connected)throw new Error("Session currently disconnected");const y=this._formatRequest({method:"wallet_updateChain",params:[i]});return await this._sendCallRequest(y)}unsafeSend(i,y){return this._sendRequest(i,y),this._eventManager.trigger({event:"call_request_sent",params:[{request:i,options:y}]}),new Promise((S,B)=>{this._subscribeToResponse(i.id,(g,C)=>{if(g){B(g);return}if(!C)throw new Error(Ss);S(C)})})}async sendCustomRequest(i,y){if(!this._connected)throw new Error(te);switch(i.method){case"eth_accounts":return this.accounts;case"eth_chainId":return lr(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":i.params&&(i.params[0]=Ae(i.params[0]));break;case"personal_sign":i.params&&(i.params=$e(i.params));break}const S=this._formatRequest(i);return await this._sendCallRequest(S,y)}approveRequest(i){if(ae(i)){const y=this._formatResponse(i);this._sendResponse(y)}else throw new Error(xs)}rejectRequest(i){if(he(i)){const y=this._formatResponse(i);this._sendResponse(y)}else throw new Error(As)}transportClose(){this._transport.close()}async _sendRequest(i,y){const S=this._formatRequest(i),B=await this._encrypt(S),g=typeof(y==null?void 0:y.topic)<"u"?y.topic:this.peerId,C=JSON.stringify(B),F=typeof(y==null?void 0:y.forcePushNotification)<"u"?!y.forcePushNotification:fs(S);this._transport.send(C,g,F)}async _sendResponse(i){const y=await this._encrypt(i),S=this.peerId,B=JSON.stringify(y);this._transport.send(B,S,!0)}async _sendSessionRequest(i,y,S){this._sendRequest(i,S),this._subscribeToSessionResponse(i.id,y)}_sendCallRequest(i,y){return this._sendRequest(i,y),this._eventManager.trigger({event:"call_request_sent",params:[{request:i,options:y}]}),this._subscribeToCallResponse(i.id)}_formatRequest(i){if(typeof i.method>"u")throw new Error(ks);return{id:typeof i.id>"u"?is():i.id,jsonrpc:"2.0",method:i.method,params:typeof i.params>"u"?[]:i.params}}_formatResponse(i){if(typeof i.id>"u")throw new Error(Os);const y={id:i.id,jsonrpc:"2.0"};if(he(i)){const S=ls(i.error);return Object.assign(Object.assign(Object.assign({},y),i),{error:S})}else if(ae(i))return Object.assign(Object.assign({},y),i);throw new Error(Ke)}_handleSessionDisconnect(i){const y=i||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),nr(He)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:y}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(i,y){y?y.approved?(this._connected?(y.chainId&&(this.chainId=y.chainId),y.accounts&&(this.accounts=y.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,y.chainId&&(this.chainId=y.chainId),y.accounts&&(this.accounts=y.accounts),y.peerId&&!this.peerId&&(this.peerId=y.peerId),y.peerMeta&&!this.peerMeta&&(this.peerMeta=y.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(i):this._handleSessionDisconnect(i)}async _handleIncomingMessages(i){if(![this.clientId,this.handshakeTopic].includes(i.topic))return;let S;try{S=JSON.parse(i.payload)}catch{return}const B=await this._decrypt(S);B&&this._eventManager.trigger(B)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(i,y){this.on(`response:${i}`,y)}_subscribeToSessionResponse(i,y){this._subscribeToResponse(i,(S,B)=>{if(S){this._handleSessionResponse(S.message);return}ae(B)?this._handleSessionResponse(y,B.result):B.error&&B.error.message?this._handleSessionResponse(B.error.message):this._handleSessionResponse(y)})}_subscribeToCallResponse(i){return new Promise((y,S)=>{this._subscribeToResponse(i,(B,g)=>{if(B){S(B);return}ae(g)?y(g.result):g.error&&g.error.message?S(g.error):S(new Error(Ke))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(i,y)=>{const{request:S}=y.params[0];if(Mo()&&this._signingMethods.includes(S.method)){const B=rr(He);B&&(window.location.href=B.href)}}),this.on("wc_sessionRequest",(i,y)=>{i&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:i.toString()}]}),this.handshakeId=y.id,this.peerId=y.params[0].peerId,this.peerMeta=y.params[0].peerMeta;const S=Object.assign(Object.assign({},y),{method:"session_request"});this._eventManager.trigger(S)}),this.on("wc_sessionUpdate",(i,y)=>{i&&this._handleSessionResponse(i.message),this._handleSessionResponse("Session disconnected",y.params[0])})}_initTransport(){this._transport.on("message",i=>this._handleIncomingMessages(i)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const i=this.protocol,y=this.handshakeTopic,S=this.version,B=encodeURIComponent(this.bridge),g=this.key;return`${i}:${y}@${S}?bridge=${B}&key=${g}`}_parseUri(i){const y=vs(i);if(y.protocol===this.protocol){if(!y.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const S=y.handshakeTopic;if(!y.bridge)throw Error("Invalid or missing bridge url parameter value");const B=decodeURIComponent(y.bridge);if(!y.key)throw Error("Invalid or missing key parameter value");const g=y.key;return{handshakeTopic:S,bridge:B,key:g}}else throw new Error(Is)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(i){const y=this._key;return this._cryptoLib&&y?await this._cryptoLib.encrypt(i,y):null}async _decrypt(i){const y=this._key;return this._cryptoLib&&y?await this._cryptoLib.decrypt(i,y):null}_getStorageSession(){let i=null;return this._sessionStorage&&(i=this._sessionStorage.getSession()),i}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(i){if(!i.url||typeof i.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!i.type||typeof i.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!i.token||typeof i.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const y={bridge:this.bridge,topic:this.clientId,type:i.type,token:i.token,peerName:"",language:i.language||""};this.on("connect",async(S,B)=>{if(S)throw S;if(i.peerMeta){const g=B.params[0].peerMeta.name;y.peerName=g}try{if(!(await(await fetch(`${i.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(y)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Ws(c){return ue.getBrowerCrypto().getRandomValues(new Uint8Array(c))}const vr=256,yr=vr,Us=vr,Qt="AES-CBC",Hs=`SHA-${yr}`,Ie="HMAC",Gs="encrypt",$s="decrypt",Ks="sign",Vs="verify";function Qs(c){return c===Qt?{length:yr,name:Qt}:{hash:{name:Hs},name:Ie}}function Js(c){return c===Qt?[Gs,$s]:[Ks,Vs]}async function De(c,i=Qt){return ue.getSubtleCrypto().importKey("raw",c,Qs(i),!0,Js(i))}async function Zs(c,i,y){const S=ue.getSubtleCrypto(),B=await De(i,Qt),g=await S.encrypt({iv:c,name:Qt},B,y);return new Uint8Array(g)}async function Xs(c,i,y){const S=ue.getSubtleCrypto(),B=await De(i,Qt),g=await S.decrypt({iv:c,name:Qt},B,y);return new Uint8Array(g)}async function Ys(c,i){const y=ue.getSubtleCrypto(),S=await De(c,Ie),B=await y.sign({length:Us,name:Ie},S,i);return new Uint8Array(B)}function ta(c,i,y){return Zs(c,i,y)}function ea(c,i,y){return Xs(c,i,y)}async function wr(c,i){return await Ys(c,i)}async function _r(c){const i=(c||256)/8,y=Ws(i);return Xo(le(y))}async function Mr(c,i){const y=ne(c.data),S=ne(c.iv),B=ne(c.hmac),g=re(B,!1),C=hr(y,S),F=await wr(i,C),W=re(F,!1);return Vt(g)===Vt(W)}async function ra(c,i,y){const S=ie(Re(i)),B=y||await _r(128),g=ie(Re(B)),C=re(g,!1),F=JSON.stringify(c),W=Uo(F),w=await ta(g,S,W),x=re(w,!1),R=hr(w,g),et=await wr(S,R),H=re(et,!1);return{data:x,hmac:H,iv:C}}async function na(c,i){const y=ie(Re(i));if(!y)throw new Error("Missing key: required for decryption");if(!await Mr(c,y))return null;const B=ne(c.data),g=ne(c.iv),C=await ea(g,y,B),F=jo(C);let W;try{W=JSON.parse(F)}catch{return null}return W}const ia=Object.freeze(Object.defineProperty({__proto__:null,decrypt:na,encrypt:ra,generateKey:_r,verifyHmac:Mr},Symbol.toStringTag,{value:"Module"}));class oa extends js{constructor(i,y){super({cryptoLib:ia,connectorOpts:i,pushServerOpts:y})}}const sa=Object.freeze(Object.defineProperty({__proto__:null,default:oa},Symbol.toStringTag,{value:"Module"})),fa=Ze(sa),ha=Ze(Gi);var br={exports:{}};(function(c,i){(function(y,S){c.exports=S()})(Te,function(){return function(y){var S={};function B(g){if(S[g])return S[g].exports;var C=S[g]={i:g,l:!1,exports:{}};return y[g].call(C.exports,C,C.exports,B),C.l=!0,C.exports}return B.m=y,B.c=S,B.d=function(g,C,F){B.o(g,C)||Object.defineProperty(g,C,{enumerable:!0,get:F})},B.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},B.t=function(g,C){if(1&C&&(g=B(g)),8&C||4&C&&typeof g=="object"&&g&&g.__esModule)return g;var F=Object.create(null);if(B.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:g}),2&C&&typeof g!="string")for(var W in g)B.d(F,W,(function(w){return g[w]}).bind(null,W));return F},B.n=function(g){var C=g&&g.__esModule?function(){return g.default}:function(){return g};return B.d(C,"a",C),C},B.o=function(g,C){return Object.prototype.hasOwnProperty.call(g,C)},B.p="",B(B.s=90)}({17:function(y,S,B){S.__esModule=!0,S.default=void 0;var g=B(18),C=function(){function F(){}return F.getFirstMatch=function(W,w){var x=w.match(W);return x&&x.length>0&&x[1]||""},F.getSecondMatch=function(W,w){var x=w.match(W);return x&&x.length>1&&x[2]||""},F.matchAndReturnConst=function(W,w,x){if(W.test(w))return x},F.getWindowsVersionName=function(W){switch(W){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},F.getMacOSVersionName=function(W){var w=W.split(".").splice(0,2).map(function(x){return parseInt(x,10)||0});if(w.push(0),w[0]===10)switch(w[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},F.getAndroidVersionName=function(W){var w=W.split(".").splice(0,2).map(function(x){return parseInt(x,10)||0});if(w.push(0),!(w[0]===1&&w[1]<5))return w[0]===1&&w[1]<6?"Cupcake":w[0]===1&&w[1]>=6?"Donut":w[0]===2&&w[1]<2?"Eclair":w[0]===2&&w[1]===2?"Froyo":w[0]===2&&w[1]>2?"Gingerbread":w[0]===3?"Honeycomb":w[0]===4&&w[1]<1?"Ice Cream Sandwich":w[0]===4&&w[1]<4?"Jelly Bean":w[0]===4&&w[1]>=4?"KitKat":w[0]===5?"Lollipop":w[0]===6?"Marshmallow":w[0]===7?"Nougat":w[0]===8?"Oreo":w[0]===9?"Pie":void 0},F.getVersionPrecision=function(W){return W.split(".").length},F.compareVersions=function(W,w,x){x===void 0&&(x=!1);var R=F.getVersionPrecision(W),et=F.getVersionPrecision(w),H=Math.max(R,et),D=0,G=F.map([W,w],function(P){var N=H-F.getVersionPrecision(P),K=P+new Array(N+1).join(".0");return F.map(K.split("."),function(U){return new Array(20-U.length).join("0")+U}).reverse()});for(x&&(D=H-Math.min(R,et)),H-=1;H>=D;){if(G[0][H]>G[1][H])return 1;if(G[0][H]===G[1][H]){if(H===D)return 0;H-=1}else if(G[0][H]<G[1][H])return-1}},F.map=function(W,w){var x,R=[];if(Array.prototype.map)return Array.prototype.map.call(W,w);for(x=0;x<W.length;x+=1)R.push(w(W[x]));return R},F.find=function(W,w){var x,R;if(Array.prototype.find)return Array.prototype.find.call(W,w);for(x=0,R=W.length;x<R;x+=1){var et=W[x];if(w(et,x))return et}},F.assign=function(W){for(var w,x,R=W,et=arguments.length,H=new Array(et>1?et-1:0),D=1;D<et;D++)H[D-1]=arguments[D];if(Object.assign)return Object.assign.apply(Object,[W].concat(H));var G=function(){var P=H[w];typeof P=="object"&&P!==null&&Object.keys(P).forEach(function(N){R[N]=P[N]})};for(w=0,x=H.length;w<x;w+=1)G();return W},F.getBrowserAlias=function(W){return g.BROWSER_ALIASES_MAP[W]},F.getBrowserTypeByAlias=function(W){return g.BROWSER_MAP[W]||""},F}();S.default=C,y.exports=S.default},18:function(y,S,B){S.__esModule=!0,S.ENGINE_MAP=S.OS_MAP=S.PLATFORMS_MAP=S.BROWSER_MAP=S.BROWSER_ALIASES_MAP=void 0,S.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},S.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},S.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},S.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},S.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(y,S,B){S.__esModule=!0,S.default=void 0;var g,C=(g=B(91))&&g.__esModule?g:{default:g},F=B(18);function W(x,R){for(var et=0;et<R.length;et++){var H=R[et];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(x,H.key,H)}}var w=function(){function x(){}var R,et,H;return x.getParser=function(D,G){if(G===void 0&&(G=!1),typeof D!="string")throw new Error("UserAgent should be a string");return new C.default(D,G)},x.parse=function(D){return new C.default(D).getResult()},R=x,H=[{key:"BROWSER_MAP",get:function(){return F.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return F.ENGINE_MAP}},{key:"OS_MAP",get:function(){return F.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return F.PLATFORMS_MAP}}],(et=null)&&W(R.prototype,et),H&&W(R,H),x}();S.default=w,y.exports=S.default},91:function(y,S,B){S.__esModule=!0,S.default=void 0;var g=x(B(92)),C=x(B(93)),F=x(B(94)),W=x(B(95)),w=x(B(17));function x(et){return et&&et.__esModule?et:{default:et}}var R=function(){function et(D,G){if(G===void 0&&(G=!1),D==null||D==="")throw new Error("UserAgent parameter can't be empty");this._ua=D,this.parsedResult={},G!==!0&&this.parse()}var H=et.prototype;return H.getUA=function(){return this._ua},H.test=function(D){return D.test(this._ua)},H.parseBrowser=function(){var D=this;this.parsedResult.browser={};var G=w.default.find(g.default,function(P){if(typeof P.test=="function")return P.test(D);if(P.test instanceof Array)return P.test.some(function(N){return D.test(N)});throw new Error("Browser's test function is not valid")});return G&&(this.parsedResult.browser=G.describe(this.getUA())),this.parsedResult.browser},H.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},H.getBrowserName=function(D){return D?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},H.getBrowserVersion=function(){return this.getBrowser().version},H.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},H.parseOS=function(){var D=this;this.parsedResult.os={};var G=w.default.find(C.default,function(P){if(typeof P.test=="function")return P.test(D);if(P.test instanceof Array)return P.test.some(function(N){return D.test(N)});throw new Error("Browser's test function is not valid")});return G&&(this.parsedResult.os=G.describe(this.getUA())),this.parsedResult.os},H.getOSName=function(D){var G=this.getOS().name;return D?String(G).toLowerCase()||"":G||""},H.getOSVersion=function(){return this.getOS().version},H.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},H.getPlatformType=function(D){D===void 0&&(D=!1);var G=this.getPlatform().type;return D?String(G).toLowerCase()||"":G||""},H.parsePlatform=function(){var D=this;this.parsedResult.platform={};var G=w.default.find(F.default,function(P){if(typeof P.test=="function")return P.test(D);if(P.test instanceof Array)return P.test.some(function(N){return D.test(N)});throw new Error("Browser's test function is not valid")});return G&&(this.parsedResult.platform=G.describe(this.getUA())),this.parsedResult.platform},H.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},H.getEngineName=function(D){return D?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},H.parseEngine=function(){var D=this;this.parsedResult.engine={};var G=w.default.find(W.default,function(P){if(typeof P.test=="function")return P.test(D);if(P.test instanceof Array)return P.test.some(function(N){return D.test(N)});throw new Error("Browser's test function is not valid")});return G&&(this.parsedResult.engine=G.describe(this.getUA())),this.parsedResult.engine},H.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},H.getResult=function(){return w.default.assign({},this.parsedResult)},H.satisfies=function(D){var G=this,P={},N=0,K={},U=0;if(Object.keys(D).forEach(function(t){var n=D[t];typeof n=="string"?(K[t]=n,U+=1):typeof n=="object"&&(P[t]=n,N+=1)}),N>0){var nt=Object.keys(P),dt=w.default.find(nt,function(t){return G.isOS(t)});if(dt){var it=this.satisfies(P[dt]);if(it!==void 0)return it}var At=w.default.find(nt,function(t){return G.isPlatform(t)});if(At){var ht=this.satisfies(P[At]);if(ht!==void 0)return ht}}if(U>0){var Ft=Object.keys(K),O=w.default.find(Ft,function(t){return G.isBrowser(t,!0)});if(O!==void 0)return this.compareVersion(K[O])}},H.isBrowser=function(D,G){G===void 0&&(G=!1);var P=this.getBrowserName().toLowerCase(),N=D.toLowerCase(),K=w.default.getBrowserTypeByAlias(N);return G&&K&&(N=K.toLowerCase()),N===P},H.compareVersion=function(D){var G=[0],P=D,N=!1,K=this.getBrowserVersion();if(typeof K=="string")return D[0]===">"||D[0]==="<"?(P=D.substr(1),D[1]==="="?(N=!0,P=D.substr(2)):G=[],D[0]===">"?G.push(1):G.push(-1)):D[0]==="="?P=D.substr(1):D[0]==="~"&&(N=!0,P=D.substr(1)),G.indexOf(w.default.compareVersions(K,P,N))>-1},H.isOS=function(D){return this.getOSName(!0)===String(D).toLowerCase()},H.isPlatform=function(D){return this.getPlatformType(!0)===String(D).toLowerCase()},H.isEngine=function(D){return this.getEngineName(!0)===String(D).toLowerCase()},H.is=function(D,G){return G===void 0&&(G=!1),this.isBrowser(D,G)||this.isOS(D)||this.isPlatform(D)},H.some=function(D){var G=this;return D===void 0&&(D=[]),D.some(function(P){return G.is(P)})},et}();S.default=R,y.exports=S.default},92:function(y,S,B){S.__esModule=!0,S.default=void 0;var g,C=(g=B(17))&&g.__esModule?g:{default:g},F=/version\/(\d+(\.?_?\d+)+)/i,W=[{test:[/googlebot/i],describe:function(w){var x={name:"Googlebot"},R=C.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,w)||C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/opera/i],describe:function(w){var x={name:"Opera"},R=C.default.getFirstMatch(F,w)||C.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/opr\/|opios/i],describe:function(w){var x={name:"Opera"},R=C.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,w)||C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/SamsungBrowser/i],describe:function(w){var x={name:"Samsung Internet for Android"},R=C.default.getFirstMatch(F,w)||C.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/Whale/i],describe:function(w){var x={name:"NAVER Whale Browser"},R=C.default.getFirstMatch(F,w)||C.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/MZBrowser/i],describe:function(w){var x={name:"MZ Browser"},R=C.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,w)||C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/focus/i],describe:function(w){var x={name:"Focus"},R=C.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,w)||C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/swing/i],describe:function(w){var x={name:"Swing"},R=C.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,w)||C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/coast/i],describe:function(w){var x={name:"Opera Coast"},R=C.default.getFirstMatch(F,w)||C.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(w){var x={name:"Opera Touch"},R=C.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/yabrowser/i],describe:function(w){var x={name:"Yandex Browser"},R=C.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/ucbrowser/i],describe:function(w){var x={name:"UC Browser"},R=C.default.getFirstMatch(F,w)||C.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/Maxthon|mxios/i],describe:function(w){var x={name:"Maxthon"},R=C.default.getFirstMatch(F,w)||C.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/epiphany/i],describe:function(w){var x={name:"Epiphany"},R=C.default.getFirstMatch(F,w)||C.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/puffin/i],describe:function(w){var x={name:"Puffin"},R=C.default.getFirstMatch(F,w)||C.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/sleipnir/i],describe:function(w){var x={name:"Sleipnir"},R=C.default.getFirstMatch(F,w)||C.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/k-meleon/i],describe:function(w){var x={name:"K-Meleon"},R=C.default.getFirstMatch(F,w)||C.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/micromessenger/i],describe:function(w){var x={name:"WeChat"},R=C.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/qqbrowser/i],describe:function(w){var x={name:/qqbrowserlite/i.test(w)?"QQ Browser Lite":"QQ Browser"},R=C.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/msie|trident/i],describe:function(w){var x={name:"Internet Explorer"},R=C.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/\sedg\//i],describe:function(w){var x={name:"Microsoft Edge"},R=C.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/edg([ea]|ios)/i],describe:function(w){var x={name:"Microsoft Edge"},R=C.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/vivaldi/i],describe:function(w){var x={name:"Vivaldi"},R=C.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/seamonkey/i],describe:function(w){var x={name:"SeaMonkey"},R=C.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/sailfish/i],describe:function(w){var x={name:"Sailfish"},R=C.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,w);return R&&(x.version=R),x}},{test:[/silk/i],describe:function(w){var x={name:"Amazon Silk"},R=C.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/phantom/i],describe:function(w){var x={name:"PhantomJS"},R=C.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/slimerjs/i],describe:function(w){var x={name:"SlimerJS"},R=C.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(w){var x={name:"BlackBerry"},R=C.default.getFirstMatch(F,w)||C.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/(web|hpw)[o0]s/i],describe:function(w){var x={name:"WebOS Browser"},R=C.default.getFirstMatch(F,w)||C.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/bada/i],describe:function(w){var x={name:"Bada"},R=C.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/tizen/i],describe:function(w){var x={name:"Tizen"},R=C.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/qupzilla/i],describe:function(w){var x={name:"QupZilla"},R=C.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/firefox|iceweasel|fxios/i],describe:function(w){var x={name:"Firefox"},R=C.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/electron/i],describe:function(w){var x={name:"Electron"},R=C.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/MiuiBrowser/i],describe:function(w){var x={name:"Miui"},R=C.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/chromium/i],describe:function(w){var x={name:"Chromium"},R=C.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/chrome|crios|crmo/i],describe:function(w){var x={name:"Chrome"},R=C.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/GSA/i],describe:function(w){var x={name:"Google Search"},R=C.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:function(w){var x=!w.test(/like android/i),R=w.test(/android/i);return x&&R},describe:function(w){var x={name:"Android Browser"},R=C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/playstation 4/i],describe:function(w){var x={name:"PlayStation 4"},R=C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/safari|applewebkit/i],describe:function(w){var x={name:"Safari"},R=C.default.getFirstMatch(F,w);return R&&(x.version=R),x}},{test:[/.*/i],describe:function(w){var x=w.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:C.default.getFirstMatch(x,w),version:C.default.getSecondMatch(x,w)}}}];S.default=W,y.exports=S.default},93:function(y,S,B){S.__esModule=!0,S.default=void 0;var g,C=(g=B(17))&&g.__esModule?g:{default:g},F=B(18),W=[{test:[/Roku\/DVP/],describe:function(w){var x=C.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,w);return{name:F.OS_MAP.Roku,version:x}}},{test:[/windows phone/i],describe:function(w){var x=C.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,w);return{name:F.OS_MAP.WindowsPhone,version:x}}},{test:[/windows /i],describe:function(w){var x=C.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,w),R=C.default.getWindowsVersionName(x);return{name:F.OS_MAP.Windows,version:x,versionName:R}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(w){var x={name:F.OS_MAP.iOS},R=C.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,w);return R&&(x.version=R),x}},{test:[/macintosh/i],describe:function(w){var x=C.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,w).replace(/[_\s]/g,"."),R=C.default.getMacOSVersionName(x),et={name:F.OS_MAP.MacOS,version:x};return R&&(et.versionName=R),et}},{test:[/(ipod|iphone|ipad)/i],describe:function(w){var x=C.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,w).replace(/[_\s]/g,".");return{name:F.OS_MAP.iOS,version:x}}},{test:function(w){var x=!w.test(/like android/i),R=w.test(/android/i);return x&&R},describe:function(w){var x=C.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,w),R=C.default.getAndroidVersionName(x),et={name:F.OS_MAP.Android,version:x};return R&&(et.versionName=R),et}},{test:[/(web|hpw)[o0]s/i],describe:function(w){var x=C.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,w),R={name:F.OS_MAP.WebOS};return x&&x.length&&(R.version=x),R}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(w){var x=C.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,w)||C.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,w)||C.default.getFirstMatch(/\bbb(\d+)/i,w);return{name:F.OS_MAP.BlackBerry,version:x}}},{test:[/bada/i],describe:function(w){var x=C.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,w);return{name:F.OS_MAP.Bada,version:x}}},{test:[/tizen/i],describe:function(w){var x=C.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,w);return{name:F.OS_MAP.Tizen,version:x}}},{test:[/linux/i],describe:function(){return{name:F.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:F.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(w){var x=C.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,w);return{name:F.OS_MAP.PlayStation4,version:x}}}];S.default=W,y.exports=S.default},94:function(y,S,B){S.__esModule=!0,S.default=void 0;var g,C=(g=B(17))&&g.__esModule?g:{default:g},F=B(18),W=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(w){var x=C.default.getFirstMatch(/(can-l01)/i,w)&&"Nova",R={type:F.PLATFORMS_MAP.mobile,vendor:"Huawei"};return x&&(R.model=x),R}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:F.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:F.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:F.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:F.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:F.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:F.PLATFORMS_MAP.tablet}}},{test:function(w){var x=w.test(/ipod|iphone/i),R=w.test(/like (ipod|iphone)/i);return x&&!R},describe:function(w){var x=C.default.getFirstMatch(/(ipod|iphone)/i,w);return{type:F.PLATFORMS_MAP.mobile,vendor:"Apple",model:x}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:F.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:F.PLATFORMS_MAP.mobile}}},{test:function(w){return w.getBrowserName(!0)==="blackberry"},describe:function(){return{type:F.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(w){return w.getBrowserName(!0)==="bada"},describe:function(){return{type:F.PLATFORMS_MAP.mobile}}},{test:function(w){return w.getBrowserName()==="windows phone"},describe:function(){return{type:F.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(w){var x=Number(String(w.getOSVersion()).split(".")[0]);return w.getOSName(!0)==="android"&&x>=3},describe:function(){return{type:F.PLATFORMS_MAP.tablet}}},{test:function(w){return w.getOSName(!0)==="android"},describe:function(){return{type:F.PLATFORMS_MAP.mobile}}},{test:function(w){return w.getOSName(!0)==="macos"},describe:function(){return{type:F.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(w){return w.getOSName(!0)==="windows"},describe:function(){return{type:F.PLATFORMS_MAP.desktop}}},{test:function(w){return w.getOSName(!0)==="linux"},describe:function(){return{type:F.PLATFORMS_MAP.desktop}}},{test:function(w){return w.getOSName(!0)==="playstation 4"},describe:function(){return{type:F.PLATFORMS_MAP.tv}}},{test:function(w){return w.getOSName(!0)==="roku"},describe:function(){return{type:F.PLATFORMS_MAP.tv}}}];S.default=W,y.exports=S.default},95:function(y,S,B){S.__esModule=!0,S.default=void 0;var g,C=(g=B(17))&&g.__esModule?g:{default:g},F=B(18),W=[{test:function(w){return w.getBrowserName(!0)==="microsoft edge"},describe:function(w){if(/\sedg\//i.test(w))return{name:F.ENGINE_MAP.Blink};var x=C.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,w);return{name:F.ENGINE_MAP.EdgeHTML,version:x}}},{test:[/trident/i],describe:function(w){var x={name:F.ENGINE_MAP.Trident},R=C.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:function(w){return w.test(/presto/i)},describe:function(w){var x={name:F.ENGINE_MAP.Presto},R=C.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:function(w){var x=w.test(/gecko/i),R=w.test(/like gecko/i);return x&&!R},describe:function(w){var x={name:F.ENGINE_MAP.Gecko},R=C.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:F.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(w){var x={name:F.ENGINE_MAP.WebKit},R=C.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,w);return R&&(x.version=R),x}}];S.default=W,y.exports=S.default}})})})(br);var ca=br.exports,Oe={exports:{}},Qe;function la(){return Qe||(Qe=1,function(c,i){(function(y,S){c.exports=S()})(self,function(){return(()=>{var y={192:(g,C)=>{var F,W,w=function(){var x=function(o,s){var u=o,d=P[s],m=null,f=0,r=null,l=[],L={},j=function(_,M){m=function(A){for(var k=new Array(A),E=0;E<A;E+=1){k[E]=new Array(A);for(var $=0;$<A;$+=1)k[E][$]=null}return k}(f=4*u+17),I(0,0),I(f-7,0),I(0,f-7),e(),a(),p(_,M),u>=7&&h(_),r==null&&(r=b(u,d,l)),v(r,M)},I=function(_,M){for(var A=-1;A<=7;A+=1)if(!(_+A<=-1||f<=_+A))for(var k=-1;k<=7;k+=1)M+k<=-1||f<=M+k||(m[_+A][M+k]=0<=A&&A<=6&&(k==0||k==6)||0<=k&&k<=6&&(A==0||A==6)||2<=A&&A<=4&&2<=k&&k<=4)},a=function(){for(var _=8;_<f-8;_+=1)m[_][6]==null&&(m[_][6]=_%2==0);for(var M=8;M<f-8;M+=1)m[6][M]==null&&(m[6][M]=M%2==0)},e=function(){for(var _=N.getPatternPosition(u),M=0;M<_.length;M+=1)for(var A=0;A<_.length;A+=1){var k=_[M],E=_[A];if(m[k][E]==null)for(var $=-2;$<=2;$+=1)for(var z=-2;z<=2;z+=1)m[k+$][E+z]=$==-2||$==2||z==-2||z==2||$==0&&z==0}},h=function(_){for(var M=N.getBCHTypeNumber(u),A=0;A<18;A+=1){var k=!_&&(M>>A&1)==1;m[Math.floor(A/3)][A%3+f-8-3]=k}for(A=0;A<18;A+=1)k=!_&&(M>>A&1)==1,m[A%3+f-8-3][Math.floor(A/3)]=k},p=function(_,M){for(var A=d<<3|M,k=N.getBCHTypeInfo(A),E=0;E<15;E+=1){var $=!_&&(k>>E&1)==1;E<6?m[E][8]=$:E<8?m[E+1][8]=$:m[f-15+E][8]=$}for(E=0;E<15;E+=1)$=!_&&(k>>E&1)==1,E<8?m[8][f-E-1]=$:E<9?m[8][15-E-1+1]=$:m[8][15-E-1]=$;m[f-8][8]=!_},v=function(_,M){for(var A=-1,k=f-1,E=7,$=0,z=N.getMaskFunction(M),q=f-1;q>0;q-=2)for(q==6&&(q-=1);;){for(var Y=0;Y<2;Y+=1)if(m[k][q-Y]==null){var Q=!1;$<_.length&&(Q=(_[$]>>>E&1)==1),z(k,q-Y)&&(Q=!Q),m[k][q-Y]=Q,(E-=1)==-1&&($+=1,E=7)}if((k+=A)<0||f<=k){k-=A,A=-A;break}}},b=function(_,M,A){for(var k=nt.getRSBlocks(_,M),E=dt(),$=0;$<A.length;$+=1){var z=A[$];E.put(z.getMode(),4),E.put(z.getLength(),N.getLengthInBits(z.getMode(),_)),z.write(E)}var q=0;for($=0;$<k.length;$+=1)q+=k[$].dataCount;if(E.getLengthInBits()>8*q)throw"code length overflow. ("+E.getLengthInBits()+">"+8*q+")";for(E.getLengthInBits()+4<=8*q&&E.put(0,4);E.getLengthInBits()%8!=0;)E.putBit(!1);for(;!(E.getLengthInBits()>=8*q||(E.put(236,8),E.getLengthInBits()>=8*q));)E.put(17,8);return function(Y,Q){for(var J=0,ct=0,V=0,Z=new Array(Q.length),rt=new Array(Q.length),X=0;X<Q.length;X+=1){var ft=Q[X].dataCount,wt=Q[X].totalCount-ft;ct=Math.max(ct,ft),V=Math.max(V,wt),Z[X]=new Array(ft);for(var tt=0;tt<Z[X].length;tt+=1)Z[X][tt]=255&Y.getBuffer()[tt+J];J+=ft;var ot=N.getErrorCorrectPolynomial(wt),lt=U(Z[X],ot.getLength()-1).mod(ot);for(rt[X]=new Array(ot.getLength()-1),tt=0;tt<rt[X].length;tt+=1){var st=tt+lt.getLength()-rt[X].length;rt[X][tt]=st>=0?lt.getAt(st):0}}var at=0;for(tt=0;tt<Q.length;tt+=1)at+=Q[tt].totalCount;var St=new Array(at),ut=0;for(tt=0;tt<ct;tt+=1)for(X=0;X<Q.length;X+=1)tt<Z[X].length&&(St[ut]=Z[X][tt],ut+=1);for(tt=0;tt<V;tt+=1)for(X=0;X<Q.length;X+=1)tt<rt[X].length&&(St[ut]=rt[X][tt],ut+=1);return St}(E,k)};L.addData=function(_,M){var A=null;switch(M=M||"Byte"){case"Numeric":A=it(_);break;case"Alphanumeric":A=At(_);break;case"Byte":A=ht(_);break;case"Kanji":A=Ft(_);break;default:throw"mode:"+M}l.push(A),r=null},L.isDark=function(_,M){if(_<0||f<=_||M<0||f<=M)throw _+","+M;return m[_][M]},L.getModuleCount=function(){return f},L.make=function(){if(u<1){for(var _=1;_<40;_++){for(var M=nt.getRSBlocks(_,d),A=dt(),k=0;k<l.length;k++){var E=l[k];A.put(E.getMode(),4),A.put(E.getLength(),N.getLengthInBits(E.getMode(),_)),E.write(A)}var $=0;for(k=0;k<M.length;k++)$+=M[k].dataCount;if(A.getLengthInBits()<=8*$)break}u=_}j(!1,function(){for(var z=0,q=0,Y=0;Y<8;Y+=1){j(!0,Y);var Q=N.getLostPoint(L);(Y==0||z>Q)&&(z=Q,q=Y)}return q}())},L.createTableTag=function(_,M){_=_||2;var A="";A+='<table style="',A+=" border-width: 0px; border-style: none;",A+=" border-collapse: collapse;",A+=" padding: 0px; margin: "+(M=M===void 0?4*_:M)+"px;",A+='">',A+="<tbody>";for(var k=0;k<L.getModuleCount();k+=1){A+="<tr>";for(var E=0;E<L.getModuleCount();E+=1)A+='<td style="',A+=" border-width: 0px; border-style: none;",A+=" border-collapse: collapse;",A+=" padding: 0px; margin: 0px;",A+=" width: "+_+"px;",A+=" height: "+_+"px;",A+=" background-color: ",A+=L.isDark(k,E)?"#000000":"#ffffff",A+=";",A+='"/>';A+="</tr>"}return(A+="</tbody>")+"</table>"},L.createSvgTag=function(_,M,A,k){var E={};typeof arguments[0]=="object"&&(_=(E=arguments[0]).cellSize,M=E.margin,A=E.alt,k=E.title),_=_||2,M=M===void 0?4*_:M,(A=typeof A=="string"?{text:A}:A||{}).text=A.text||null,A.id=A.text?A.id||"qrcode-description":null,(k=typeof k=="string"?{text:k}:k||{}).text=k.text||null,k.id=k.text?k.id||"qrcode-title":null;var $,z,q,Y,Q=L.getModuleCount()*_+2*M,J="";for(Y="l"+_+",0 0,"+_+" -"+_+",0 0,-"+_+"z ",J+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',J+=E.scalable?"":' width="'+Q+'px" height="'+Q+'px"',J+=' viewBox="0 0 '+Q+" "+Q+'" ',J+=' preserveAspectRatio="xMinYMin meet"',J+=k.text||A.text?' role="img" aria-labelledby="'+T([k.id,A.id].join(" ").trim())+'"':"",J+=">",J+=k.text?'<title id="'+T(k.id)+'">'+T(k.text)+"</title>":"",J+=A.text?'<description id="'+T(A.id)+'">'+T(A.text)+"</description>":"",J+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',J+='<path d="',z=0;z<L.getModuleCount();z+=1)for(q=z*_+M,$=0;$<L.getModuleCount();$+=1)L.isDark(z,$)&&(J+="M"+($*_+M)+","+q+Y);return(J+='" stroke="transparent" fill="black"/>')+"</svg>"},L.createDataURL=function(_,M){_=_||2,M=M===void 0?4*_:M;var A=L.getModuleCount()*_+2*M,k=M,E=A-M;return n(A,A,function($,z){if(k<=$&&$<E&&k<=z&&z<E){var q=Math.floor(($-k)/_),Y=Math.floor((z-k)/_);return L.isDark(Y,q)?0:1}return 1})},L.createImgTag=function(_,M,A){_=_||2,M=M===void 0?4*_:M;var k=L.getModuleCount()*_+2*M,E="";return E+="<img",E+=' src="',E+=L.createDataURL(_,M),E+='"',E+=' width="',E+=k,E+='"',E+=' height="',E+=k,E+='"',A&&(E+=' alt="',E+=T(A),E+='"'),E+"/>"};var T=function(_){for(var M="",A=0;A<_.length;A+=1){var k=_.charAt(A);switch(k){case"<":M+="&lt;";break;case">":M+="&gt;";break;case"&":M+="&amp;";break;case'"':M+="&quot;";break;default:M+=k}}return M};return L.createASCII=function(_,M){if((_=_||1)<2)return function(Z){Z=Z===void 0?2:Z;var rt,X,ft,wt,tt,ot=1*L.getModuleCount()+2*Z,lt=Z,st=ot-Z,at={"██":"█","█ ":"▀"," █":"▄","  ":" "},St={"██":"▀","█ ":"▀"," █":" ","  ":" "},ut="";for(rt=0;rt<ot;rt+=2){for(ft=Math.floor((rt-lt)/1),wt=Math.floor((rt+1-lt)/1),X=0;X<ot;X+=1)tt="█",lt<=X&&X<st&&lt<=rt&&rt<st&&L.isDark(ft,Math.floor((X-lt)/1))&&(tt=" "),lt<=X&&X<st&&lt<=rt+1&&rt+1<st&&L.isDark(wt,Math.floor((X-lt)/1))?tt+=" ":tt+="█",ut+=Z<1&&rt+1>=st?St[tt]:at[tt];ut+=`
`}return ot%2&&Z>0?ut.substring(0,ut.length-ot-1)+Array(ot+1).join("▀"):ut.substring(0,ut.length-1)}(M);_-=1,M=M===void 0?2*_:M;var A,k,E,$,z=L.getModuleCount()*_+2*M,q=M,Y=z-M,Q=Array(_+1).join("██"),J=Array(_+1).join("  "),ct="",V="";for(A=0;A<z;A+=1){for(E=Math.floor((A-q)/_),V="",k=0;k<z;k+=1)$=1,q<=k&&k<Y&&q<=A&&A<Y&&L.isDark(E,Math.floor((k-q)/_))&&($=0),V+=$?Q:J;for(E=0;E<_;E+=1)ct+=V+`
`}return ct.substring(0,ct.length-1)},L.renderTo2dContext=function(_,M){M=M||2;for(var A=L.getModuleCount(),k=0;k<A;k++)for(var E=0;E<A;E++)_.fillStyle=L.isDark(k,E)?"black":"white",_.fillRect(k*M,E*M,M,M)},L};x.stringToBytes=(x.stringToBytesFuncs={default:function(o){for(var s=[],u=0;u<o.length;u+=1){var d=o.charCodeAt(u);s.push(255&d)}return s}}).default,x.createStringToBytes=function(o,s){var u=function(){for(var m=t(o),f=function(){var a=m.read();if(a==-1)throw"eof";return a},r=0,l={};;){var L=m.read();if(L==-1)break;var j=f(),I=f()<<8|f();l[String.fromCharCode(L<<8|j)]=I,r+=1}if(r!=s)throw r+" != "+s;return l}(),d=63;return function(m){for(var f=[],r=0;r<m.length;r+=1){var l=m.charCodeAt(r);if(l<128)f.push(l);else{var L=u[m.charAt(r)];typeof L=="number"?(255&L)==L?f.push(L):(f.push(L>>>8),f.push(255&L)):f.push(d)}}return f}};var R,et,H,D,G,P={L:1,M:0,Q:3,H:2},N=(R=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],et=1335,H=7973,G=function(o){for(var s=0;o!=0;)s+=1,o>>>=1;return s},(D={}).getBCHTypeInfo=function(o){for(var s=o<<10;G(s)-G(et)>=0;)s^=et<<G(s)-G(et);return 21522^(o<<10|s)},D.getBCHTypeNumber=function(o){for(var s=o<<12;G(s)-G(H)>=0;)s^=H<<G(s)-G(H);return o<<12|s},D.getPatternPosition=function(o){return R[o-1]},D.getMaskFunction=function(o){switch(o){case 0:return function(s,u){return(s+u)%2==0};case 1:return function(s,u){return s%2==0};case 2:return function(s,u){return u%3==0};case 3:return function(s,u){return(s+u)%3==0};case 4:return function(s,u){return(Math.floor(s/2)+Math.floor(u/3))%2==0};case 5:return function(s,u){return s*u%2+s*u%3==0};case 6:return function(s,u){return(s*u%2+s*u%3)%2==0};case 7:return function(s,u){return(s*u%3+(s+u)%2)%2==0};default:throw"bad maskPattern:"+o}},D.getErrorCorrectPolynomial=function(o){for(var s=U([1],0),u=0;u<o;u+=1)s=s.multiply(U([1,K.gexp(u)],0));return s},D.getLengthInBits=function(o,s){if(1<=s&&s<10)switch(o){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+o}else if(s<27)switch(o){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+o}else{if(!(s<41))throw"type:"+s;switch(o){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+o}}},D.getLostPoint=function(o){for(var s=o.getModuleCount(),u=0,d=0;d<s;d+=1)for(var m=0;m<s;m+=1){for(var f=0,r=o.isDark(d,m),l=-1;l<=1;l+=1)if(!(d+l<0||s<=d+l))for(var L=-1;L<=1;L+=1)m+L<0||s<=m+L||l==0&&L==0||r==o.isDark(d+l,m+L)&&(f+=1);f>5&&(u+=3+f-5)}for(d=0;d<s-1;d+=1)for(m=0;m<s-1;m+=1){var j=0;o.isDark(d,m)&&(j+=1),o.isDark(d+1,m)&&(j+=1),o.isDark(d,m+1)&&(j+=1),o.isDark(d+1,m+1)&&(j+=1),j!=0&&j!=4||(u+=3)}for(d=0;d<s;d+=1)for(m=0;m<s-6;m+=1)o.isDark(d,m)&&!o.isDark(d,m+1)&&o.isDark(d,m+2)&&o.isDark(d,m+3)&&o.isDark(d,m+4)&&!o.isDark(d,m+5)&&o.isDark(d,m+6)&&(u+=40);for(m=0;m<s;m+=1)for(d=0;d<s-6;d+=1)o.isDark(d,m)&&!o.isDark(d+1,m)&&o.isDark(d+2,m)&&o.isDark(d+3,m)&&o.isDark(d+4,m)&&!o.isDark(d+5,m)&&o.isDark(d+6,m)&&(u+=40);var I=0;for(m=0;m<s;m+=1)for(d=0;d<s;d+=1)o.isDark(d,m)&&(I+=1);return u+Math.abs(100*I/s/s-50)/5*10},D),K=function(){for(var o=new Array(256),s=new Array(256),u=0;u<8;u+=1)o[u]=1<<u;for(u=8;u<256;u+=1)o[u]=o[u-4]^o[u-5]^o[u-6]^o[u-8];for(u=0;u<255;u+=1)s[o[u]]=u;return{glog:function(d){if(d<1)throw"glog("+d+")";return s[d]},gexp:function(d){for(;d<0;)d+=255;for(;d>=256;)d-=255;return o[d]}}}();function U(o,s){if(o.length===void 0)throw o.length+"/"+s;var u=function(){for(var m=0;m<o.length&&o[m]==0;)m+=1;for(var f=new Array(o.length-m+s),r=0;r<o.length-m;r+=1)f[r]=o[r+m];return f}(),d={getAt:function(m){return u[m]},getLength:function(){return u.length},multiply:function(m){for(var f=new Array(d.getLength()+m.getLength()-1),r=0;r<d.getLength();r+=1)for(var l=0;l<m.getLength();l+=1)f[r+l]^=K.gexp(K.glog(d.getAt(r))+K.glog(m.getAt(l)));return U(f,0)},mod:function(m){if(d.getLength()-m.getLength()<0)return d;for(var f=K.glog(d.getAt(0))-K.glog(m.getAt(0)),r=new Array(d.getLength()),l=0;l<d.getLength();l+=1)r[l]=d.getAt(l);for(l=0;l<m.getLength();l+=1)r[l]^=K.gexp(K.glog(m.getAt(l))+f);return U(r,0).mod(m)}};return d}var nt=function(){var o=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],s=function(d,m){var f={};return f.totalCount=d,f.dataCount=m,f},u={getRSBlocks:function(d,m){var f=function(h,p){switch(p){case P.L:return o[4*(h-1)+0];case P.M:return o[4*(h-1)+1];case P.Q:return o[4*(h-1)+2];case P.H:return o[4*(h-1)+3];default:return}}(d,m);if(f===void 0)throw"bad rs block @ typeNumber:"+d+"/errorCorrectionLevel:"+m;for(var r=f.length/3,l=[],L=0;L<r;L+=1)for(var j=f[3*L+0],I=f[3*L+1],a=f[3*L+2],e=0;e<j;e+=1)l.push(s(I,a));return l}};return u}(),dt=function(){var o=[],s=0,u={getBuffer:function(){return o},getAt:function(d){var m=Math.floor(d/8);return(o[m]>>>7-d%8&1)==1},put:function(d,m){for(var f=0;f<m;f+=1)u.putBit((d>>>m-f-1&1)==1)},getLengthInBits:function(){return s},putBit:function(d){var m=Math.floor(s/8);o.length<=m&&o.push(0),d&&(o[m]|=128>>>s%8),s+=1}};return u},it=function(o){var s=o,u={getMode:function(){return 1},getLength:function(f){return s.length},write:function(f){for(var r=s,l=0;l+2<r.length;)f.put(d(r.substring(l,l+3)),10),l+=3;l<r.length&&(r.length-l==1?f.put(d(r.substring(l,l+1)),4):r.length-l==2&&f.put(d(r.substring(l,l+2)),7))}},d=function(f){for(var r=0,l=0;l<f.length;l+=1)r=10*r+m(f.charAt(l));return r},m=function(f){if("0"<=f&&f<="9")return f.charCodeAt(0)-48;throw"illegal char :"+f};return u},At=function(o){var s=o,u={getMode:function(){return 2},getLength:function(m){return s.length},write:function(m){for(var f=s,r=0;r+1<f.length;)m.put(45*d(f.charAt(r))+d(f.charAt(r+1)),11),r+=2;r<f.length&&m.put(d(f.charAt(r)),6)}},d=function(m){if("0"<=m&&m<="9")return m.charCodeAt(0)-48;if("A"<=m&&m<="Z")return m.charCodeAt(0)-65+10;switch(m){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+m}};return u},ht=function(o){var s=x.stringToBytes(o);return{getMode:function(){return 4},getLength:function(u){return s.length},write:function(u){for(var d=0;d<s.length;d+=1)u.put(s[d],8)}}},Ft=function(o){var s=x.stringToBytesFuncs.SJIS;if(!s)throw"sjis not supported.";(function(d,m){var f=s("友");if(f.length!=2||(f[0]<<8|f[1])!=38726)throw"sjis not supported."})();var u=s(o);return{getMode:function(){return 8},getLength:function(d){return~~(u.length/2)},write:function(d){for(var m=u,f=0;f+1<m.length;){var r=(255&m[f])<<8|255&m[f+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(f+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),d.put(r,13),f+=2}if(f<m.length)throw"illegal char at "+(f+1)}}},O=function(){var o=[],s={writeByte:function(u){o.push(255&u)},writeShort:function(u){s.writeByte(u),s.writeByte(u>>>8)},writeBytes:function(u,d,m){d=d||0,m=m||u.length;for(var f=0;f<m;f+=1)s.writeByte(u[f+d])},writeString:function(u){for(var d=0;d<u.length;d+=1)s.writeByte(u.charCodeAt(d))},toByteArray:function(){return o},toString:function(){var u="";u+="[";for(var d=0;d<o.length;d+=1)d>0&&(u+=","),u+=o[d];return u+"]"}};return s},t=function(o){var s=o,u=0,d=0,m=0,f={read:function(){for(;m<8;){if(u>=s.length){if(m==0)return-1;throw"unexpected end of file./"+m}var l=s.charAt(u);if(u+=1,l=="=")return m=0,-1;l.match(/^\s$/)||(d=d<<6|r(l.charCodeAt(0)),m+=6)}var L=d>>>m-8&255;return m-=8,L}},r=function(l){if(65<=l&&l<=90)return l-65;if(97<=l&&l<=122)return l-97+26;if(48<=l&&l<=57)return l-48+52;if(l==43)return 62;if(l==47)return 63;throw"c:"+l};return f},n=function(o,s,u){for(var d=function(I,a){var e=I,h=a,p=new Array(I*a),v={setPixel:function(_,M,A){p[M*e+_]=A},write:function(_){_.writeString("GIF87a"),_.writeShort(e),_.writeShort(h),_.writeByte(128),_.writeByte(0),_.writeByte(0),_.writeByte(0),_.writeByte(0),_.writeByte(0),_.writeByte(255),_.writeByte(255),_.writeByte(255),_.writeString(","),_.writeShort(0),_.writeShort(0),_.writeShort(e),_.writeShort(h),_.writeByte(0);var M=b(2);_.writeByte(2);for(var A=0;M.length-A>255;)_.writeByte(255),_.writeBytes(M,A,255),A+=255;_.writeByte(M.length-A),_.writeBytes(M,A,M.length-A),_.writeByte(0),_.writeString(";")}},b=function(_){for(var M=1<<_,A=1+(1<<_),k=_+1,E=T(),$=0;$<M;$+=1)E.add(String.fromCharCode($));E.add(String.fromCharCode(M)),E.add(String.fromCharCode(A));var z,q,Y,Q=O(),J=(z=Q,q=0,Y=0,{write:function(rt,X){if(rt>>>X)throw"length over";for(;q+X>=8;)z.writeByte(255&(rt<<q|Y)),X-=8-q,rt>>>=8-q,Y=0,q=0;Y|=rt<<q,q+=X},flush:function(){q>0&&z.writeByte(Y)}});J.write(M,k);var ct=0,V=String.fromCharCode(p[ct]);for(ct+=1;ct<p.length;){var Z=String.fromCharCode(p[ct]);ct+=1,E.contains(V+Z)?V+=Z:(J.write(E.indexOf(V),k),E.size()<4095&&(E.size()==1<<k&&(k+=1),E.add(V+Z)),V=Z)}return J.write(E.indexOf(V),k),J.write(A,k),J.flush(),Q.toByteArray()},T=function(){var _={},M=0,A={add:function(k){if(A.contains(k))throw"dup key:"+k;_[k]=M,M+=1},size:function(){return M},indexOf:function(k){return _[k]},contains:function(k){return _[k]!==void 0}};return A};return v}(o,s),m=0;m<s;m+=1)for(var f=0;f<o;f+=1)d.setPixel(f,m,u(f,m));var r=O();d.write(r);for(var l=function(){var I=0,a=0,e=0,h="",p={},v=function(T){h+=String.fromCharCode(b(63&T))},b=function(T){if(!(T<0)){if(T<26)return 65+T;if(T<52)return T-26+97;if(T<62)return T-52+48;if(T==62)return 43;if(T==63)return 47}throw"n:"+T};return p.writeByte=function(T){for(I=I<<8|255&T,a+=8,e+=1;a>=6;)v(I>>>a-6),a-=6},p.flush=function(){if(a>0&&(v(I<<6-a),I=0,a=0),e%3!=0)for(var T=3-e%3,_=0;_<T;_+=1)h+="="},p.toString=function(){return h},p}(),L=r.toByteArray(),j=0;j<L.length;j+=1)l.writeByte(L[j]);return l.flush(),"data:image/gif;base64,"+l};return x}();w.stringToBytesFuncs["UTF-8"]=function(x){return function(R){for(var et=[],H=0;H<R.length;H++){var D=R.charCodeAt(H);D<128?et.push(D):D<2048?et.push(192|D>>6,128|63&D):D<55296||D>=57344?et.push(224|D>>12,128|D>>6&63,128|63&D):(H++,D=65536+((1023&D)<<10|1023&R.charCodeAt(H)),et.push(240|D>>18,128|D>>12&63,128|D>>6&63,128|63&D))}return et}(x)},(W=typeof(F=function(){return w})=="function"?F.apply(C,[]):F)===void 0||(g.exports=W)},676:(g,C,F)=>{F.d(C,{default:()=>j});var W=function(){return(W=Object.assign||function(I){for(var a,e=1,h=arguments.length;e<h;e++)for(var p in a=arguments[e])Object.prototype.hasOwnProperty.call(a,p)&&(I[p]=a[p]);return I}).apply(this,arguments)},w=function(){for(var I=0,a=0,e=arguments.length;a<e;a++)I+=arguments[a].length;var h=Array(I),p=0;for(a=0;a<e;a++)for(var v=arguments[a],b=0,T=v.length;b<T;b++,p++)h[p]=v[b];return h},x=function(I){return!!I&&typeof I=="object"&&!Array.isArray(I)};function R(I){for(var a=[],e=1;e<arguments.length;e++)a[e-1]=arguments[e];if(!a.length)return I;var h=a.shift();return h!==void 0&&x(I)&&x(h)?(I=W({},I),Object.keys(h).forEach(function(p){var v=I[p],b=h[p];Array.isArray(v)&&Array.isArray(b)?I[p]=b:x(v)&&x(b)?I[p]=R(Object.assign({},v),b):I[p]=b}),R.apply(void 0,w([I],a))):I}function et(I,a){var e=document.createElement("a");e.download=a,e.href=I,document.body.appendChild(e),e.click(),document.body.removeChild(e)}function H(I){return a=this,e=void 0,p=function(){return function(v,b){var T,_,M,A,k={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return A={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function E($){return function(z){return function(q){if(T)throw new TypeError("Generator is already executing.");for(;k;)try{if(T=1,_&&(M=2&q[0]?_.return:q[0]?_.throw||((M=_.return)&&M.call(_),0):_.next)&&!(M=M.call(_,q[1])).done)return M;switch(_=0,M&&(q=[2&q[0],M.value]),q[0]){case 0:case 1:M=q;break;case 4:return k.label++,{value:q[1],done:!1};case 5:k.label++,_=q[1],q=[0];continue;case 7:q=k.ops.pop(),k.trys.pop();continue;default:if(!((M=(M=k.trys).length>0&&M[M.length-1])||q[0]!==6&&q[0]!==2)){k=0;continue}if(q[0]===3&&(!M||q[1]>M[0]&&q[1]<M[3])){k.label=q[1];break}if(q[0]===6&&k.label<M[1]){k.label=M[1],M=q;break}if(M&&k.label<M[2]){k.label=M[2],k.ops.push(q);break}M[2]&&k.ops.pop(),k.trys.pop();continue}q=b.call(v,k)}catch(Y){q=[6,Y],_=0}finally{T=M=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([$,z])}}}(this,function(v){return[2,new Promise(function(b){var T=new XMLHttpRequest;T.onload=function(){var _=new FileReader;_.onloadend=function(){b(_.result)},_.readAsDataURL(T.response)},T.open("GET",I),T.responseType="blob",T.send()})]})},new((h=void 0)||(h=Promise))(function(v,b){function T(A){try{M(p.next(A))}catch(k){b(k)}}function _(A){try{M(p.throw(A))}catch(k){b(k)}}function M(A){var k;A.done?v(A.value):(k=A.value,k instanceof h?k:new h(function(E){E(k)})).then(T,_)}M((p=p.apply(a,e||[])).next())});var a,e,h,p}const D={L:.07,M:.15,Q:.25,H:.3};var G=function(){return(G=Object.assign||function(I){for(var a,e=1,h=arguments.length;e<h;e++)for(var p in a=arguments[e])Object.prototype.hasOwnProperty.call(a,p)&&(I[p]=a[p]);return I}).apply(this,arguments)};const P=function(){function I(a){var e=a.svg,h=a.type;this._svg=e,this._type=h}return I.prototype.draw=function(a,e,h,p){var v;switch(this._type){case"dots":v=this._drawDot;break;case"classy":v=this._drawClassy;break;case"classy-rounded":v=this._drawClassyRounded;break;case"rounded":v=this._drawRounded;break;case"extra-rounded":v=this._drawExtraRounded;break;case"square":default:v=this._drawSquare}v.call(this,{x:a,y:e,size:h,getNeighbor:p})},I.prototype._rotateFigure=function(a){var e,h=a.x,p=a.y,v=a.size,b=a.rotation,T=b===void 0?0:b,_=h+v/2,M=p+v/2;(0,a.draw)(),(e=this._element)===null||e===void 0||e.setAttribute("transform","rotate("+180*T/Math.PI+","+_+","+M+")")},I.prototype._basicDot=function(a){var e=this,h=a.size,p=a.x,v=a.y;this._rotateFigure(G(G({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),e._element.setAttribute("cx",String(p+h/2)),e._element.setAttribute("cy",String(v+h/2)),e._element.setAttribute("r",String(h/2))}}))},I.prototype._basicSquare=function(a){var e=this,h=a.size,p=a.x,v=a.y;this._rotateFigure(G(G({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),e._element.setAttribute("x",String(p)),e._element.setAttribute("y",String(v)),e._element.setAttribute("width",String(h)),e._element.setAttribute("height",String(h))}}))},I.prototype._basicSideRounded=function(a){var e=this,h=a.size,p=a.x,v=a.y;this._rotateFigure(G(G({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+p+" "+v+"v "+h+"h "+h/2+"a "+h/2+" "+h/2+", 0, 0, 0, 0 "+-h)}}))},I.prototype._basicCornerRounded=function(a){var e=this,h=a.size,p=a.x,v=a.y;this._rotateFigure(G(G({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+p+" "+v+"v "+h+"h "+h+"v "+-h/2+"a "+h/2+" "+h/2+", 0, 0, 0, "+-h/2+" "+-h/2)}}))},I.prototype._basicCornerExtraRounded=function(a){var e=this,h=a.size,p=a.x,v=a.y;this._rotateFigure(G(G({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+p+" "+v+"v "+h+"h "+h+"a "+h+" "+h+", 0, 0, 0, "+-h+" "+-h)}}))},I.prototype._basicCornersRounded=function(a){var e=this,h=a.size,p=a.x,v=a.y;this._rotateFigure(G(G({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+p+" "+v+"v "+h/2+"a "+h/2+" "+h/2+", 0, 0, 0, "+h/2+" "+h/2+"h "+h/2+"v "+-h/2+"a "+h/2+" "+h/2+", 0, 0, 0, "+-h/2+" "+-h/2)}}))},I.prototype._drawDot=function(a){var e=a.x,h=a.y,p=a.size;this._basicDot({x:e,y:h,size:p,rotation:0})},I.prototype._drawSquare=function(a){var e=a.x,h=a.y,p=a.size;this._basicSquare({x:e,y:h,size:p,rotation:0})},I.prototype._drawRounded=function(a){var e=a.x,h=a.y,p=a.size,v=a.getNeighbor,b=v?+v(-1,0):0,T=v?+v(1,0):0,_=v?+v(0,-1):0,M=v?+v(0,1):0,A=b+T+_+M;if(A!==0)if(A>2||b&&T||_&&M)this._basicSquare({x:e,y:h,size:p,rotation:0});else{if(A===2){var k=0;return b&&_?k=Math.PI/2:_&&T?k=Math.PI:T&&M&&(k=-Math.PI/2),void this._basicCornerRounded({x:e,y:h,size:p,rotation:k})}if(A===1)return k=0,_?k=Math.PI/2:T?k=Math.PI:M&&(k=-Math.PI/2),void this._basicSideRounded({x:e,y:h,size:p,rotation:k})}else this._basicDot({x:e,y:h,size:p,rotation:0})},I.prototype._drawExtraRounded=function(a){var e=a.x,h=a.y,p=a.size,v=a.getNeighbor,b=v?+v(-1,0):0,T=v?+v(1,0):0,_=v?+v(0,-1):0,M=v?+v(0,1):0,A=b+T+_+M;if(A!==0)if(A>2||b&&T||_&&M)this._basicSquare({x:e,y:h,size:p,rotation:0});else{if(A===2){var k=0;return b&&_?k=Math.PI/2:_&&T?k=Math.PI:T&&M&&(k=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:h,size:p,rotation:k})}if(A===1)return k=0,_?k=Math.PI/2:T?k=Math.PI:M&&(k=-Math.PI/2),void this._basicSideRounded({x:e,y:h,size:p,rotation:k})}else this._basicDot({x:e,y:h,size:p,rotation:0})},I.prototype._drawClassy=function(a){var e=a.x,h=a.y,p=a.size,v=a.getNeighbor,b=v?+v(-1,0):0,T=v?+v(1,0):0,_=v?+v(0,-1):0,M=v?+v(0,1):0;b+T+_+M!==0?b||_?T||M?this._basicSquare({x:e,y:h,size:p,rotation:0}):this._basicCornerRounded({x:e,y:h,size:p,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:h,size:p,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:h,size:p,rotation:Math.PI/2})},I.prototype._drawClassyRounded=function(a){var e=a.x,h=a.y,p=a.size,v=a.getNeighbor,b=v?+v(-1,0):0,T=v?+v(1,0):0,_=v?+v(0,-1):0,M=v?+v(0,1):0;b+T+_+M!==0?b||_?T||M?this._basicSquare({x:e,y:h,size:p,rotation:0}):this._basicCornerExtraRounded({x:e,y:h,size:p,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:h,size:p,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:h,size:p,rotation:Math.PI/2})},I}();var N=function(){return(N=Object.assign||function(I){for(var a,e=1,h=arguments.length;e<h;e++)for(var p in a=arguments[e])Object.prototype.hasOwnProperty.call(a,p)&&(I[p]=a[p]);return I}).apply(this,arguments)};const K=function(){function I(a){var e=a.svg,h=a.type;this._svg=e,this._type=h}return I.prototype.draw=function(a,e,h,p){var v;switch(this._type){case"square":v=this._drawSquare;break;case"extra-rounded":v=this._drawExtraRounded;break;case"dot":default:v=this._drawDot}v.call(this,{x:a,y:e,size:h,rotation:p})},I.prototype._rotateFigure=function(a){var e,h=a.x,p=a.y,v=a.size,b=a.rotation,T=b===void 0?0:b,_=h+v/2,M=p+v/2;(0,a.draw)(),(e=this._element)===null||e===void 0||e.setAttribute("transform","rotate("+180*T/Math.PI+","+_+","+M+")")},I.prototype._basicDot=function(a){var e=this,h=a.size,p=a.x,v=a.y,b=h/7;this._rotateFigure(N(N({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+(p+h/2)+" "+v+"a "+h/2+" "+h/2+" 0 1 0 0.1 0zm 0 "+b+"a "+(h/2-b)+" "+(h/2-b)+" 0 1 1 -0.1 0Z")}}))},I.prototype._basicSquare=function(a){var e=this,h=a.size,p=a.x,v=a.y,b=h/7;this._rotateFigure(N(N({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+p+" "+v+"v "+h+"h "+h+"v "+-h+"zM "+(p+b)+" "+(v+b)+"h "+(h-2*b)+"v "+(h-2*b)+"h "+(2*b-h)+"z")}}))},I.prototype._basicExtraRounded=function(a){var e=this,h=a.size,p=a.x,v=a.y,b=h/7;this._rotateFigure(N(N({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+p+" "+(v+2.5*b)+"v "+2*b+"a "+2.5*b+" "+2.5*b+", 0, 0, 0, "+2.5*b+" "+2.5*b+"h "+2*b+"a "+2.5*b+" "+2.5*b+", 0, 0, 0, "+2.5*b+" "+2.5*-b+"v "+-2*b+"a "+2.5*b+" "+2.5*b+", 0, 0, 0, "+2.5*-b+" "+2.5*-b+"h "+-2*b+"a "+2.5*b+" "+2.5*b+", 0, 0, 0, "+2.5*-b+" "+2.5*b+"M "+(p+2.5*b)+" "+(v+b)+"h "+2*b+"a "+1.5*b+" "+1.5*b+", 0, 0, 1, "+1.5*b+" "+1.5*b+"v "+2*b+"a "+1.5*b+" "+1.5*b+", 0, 0, 1, "+1.5*-b+" "+1.5*b+"h "+-2*b+"a "+1.5*b+" "+1.5*b+", 0, 0, 1, "+1.5*-b+" "+1.5*-b+"v "+-2*b+"a "+1.5*b+" "+1.5*b+", 0, 0, 1, "+1.5*b+" "+1.5*-b)}}))},I.prototype._drawDot=function(a){var e=a.x,h=a.y,p=a.size,v=a.rotation;this._basicDot({x:e,y:h,size:p,rotation:v})},I.prototype._drawSquare=function(a){var e=a.x,h=a.y,p=a.size,v=a.rotation;this._basicSquare({x:e,y:h,size:p,rotation:v})},I.prototype._drawExtraRounded=function(a){var e=a.x,h=a.y,p=a.size,v=a.rotation;this._basicExtraRounded({x:e,y:h,size:p,rotation:v})},I}();var U=function(){return(U=Object.assign||function(I){for(var a,e=1,h=arguments.length;e<h;e++)for(var p in a=arguments[e])Object.prototype.hasOwnProperty.call(a,p)&&(I[p]=a[p]);return I}).apply(this,arguments)};const nt=function(){function I(a){var e=a.svg,h=a.type;this._svg=e,this._type=h}return I.prototype.draw=function(a,e,h,p){var v;switch(this._type){case"square":v=this._drawSquare;break;case"dot":default:v=this._drawDot}v.call(this,{x:a,y:e,size:h,rotation:p})},I.prototype._rotateFigure=function(a){var e,h=a.x,p=a.y,v=a.size,b=a.rotation,T=b===void 0?0:b,_=h+v/2,M=p+v/2;(0,a.draw)(),(e=this._element)===null||e===void 0||e.setAttribute("transform","rotate("+180*T/Math.PI+","+_+","+M+")")},I.prototype._basicDot=function(a){var e=this,h=a.size,p=a.x,v=a.y;this._rotateFigure(U(U({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),e._element.setAttribute("cx",String(p+h/2)),e._element.setAttribute("cy",String(v+h/2)),e._element.setAttribute("r",String(h/2))}}))},I.prototype._basicSquare=function(a){var e=this,h=a.size,p=a.x,v=a.y;this._rotateFigure(U(U({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),e._element.setAttribute("x",String(p)),e._element.setAttribute("y",String(v)),e._element.setAttribute("width",String(h)),e._element.setAttribute("height",String(h))}}))},I.prototype._drawDot=function(a){var e=a.x,h=a.y,p=a.size,v=a.rotation;this._basicDot({x:e,y:h,size:p,rotation:v})},I.prototype._drawSquare=function(a){var e=a.x,h=a.y,p=a.size,v=a.rotation;this._basicSquare({x:e,y:h,size:p,rotation:v})},I}(),dt="circle";var it=function(I,a,e,h){return new(e||(e=Promise))(function(p,v){function b(M){try{_(h.next(M))}catch(A){v(A)}}function T(M){try{_(h.throw(M))}catch(A){v(A)}}function _(M){var A;M.done?p(M.value):(A=M.value,A instanceof e?A:new e(function(k){k(A)})).then(b,T)}_((h=h.apply(I,[])).next())})},At=function(I,a){var e,h,p,v,b={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return v={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function T(_){return function(M){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;b;)try{if(e=1,h&&(p=2&A[0]?h.return:A[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,A[1])).done)return p;switch(h=0,p&&(A=[2&A[0],p.value]),A[0]){case 0:case 1:p=A;break;case 4:return b.label++,{value:A[1],done:!1};case 5:b.label++,h=A[1],A=[0];continue;case 7:A=b.ops.pop(),b.trys.pop();continue;default:if(!((p=(p=b.trys).length>0&&p[p.length-1])||A[0]!==6&&A[0]!==2)){b=0;continue}if(A[0]===3&&(!p||A[1]>p[0]&&A[1]<p[3])){b.label=A[1];break}if(A[0]===6&&b.label<p[1]){b.label=p[1],p=A;break}if(p&&b.label<p[2]){b.label=p[2],b.ops.push(A);break}p[2]&&b.ops.pop(),b.trys.pop();continue}A=a.call(I,b)}catch(k){A=[6,k],h=0}finally{e=p=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([_,M])}}},ht=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],Ft=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const O=function(){function I(a){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(a.width)),this._element.setAttribute("height",String(a.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=a}return Object.defineProperty(I.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),I.prototype.getElement=function(){return this._element},I.prototype.drawQR=function(a){return it(this,void 0,void 0,function(){var e,h,p,v,b,T,_,M,A,k,E=this;return At(this,function($){switch($.label){case 0:return e=a.getModuleCount(),h=Math.min(this._options.width,this._options.height)-2*this._options.margin,p=this._options.shape===dt?h/Math.sqrt(2):h,v=Math.floor(p/e),b={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=a,this._options.image?[4,this.loadImage()]:[3,2];case 1:if($.sent(),!this._image)return[2];T=this._options,_=T.imageOptions,M=T.qrOptions,A=_.imageSize*D[M.errorCorrectionLevel],k=Math.floor(A*e*e),b=function(z){var q=z.originalHeight,Y=z.originalWidth,Q=z.maxHiddenDots,J=z.maxHiddenAxisDots,ct=z.dotSize,V={x:0,y:0},Z={x:0,y:0};if(q<=0||Y<=0||Q<=0||ct<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var rt=q/Y;return V.x=Math.floor(Math.sqrt(Q/rt)),V.x<=0&&(V.x=1),J&&J<V.x&&(V.x=J),V.x%2==0&&V.x--,Z.x=V.x*ct,V.y=1+2*Math.ceil((V.x*rt-1)/2),Z.y=Math.round(Z.x*rt),(V.y*V.x>Q||J&&J<V.y)&&(J&&J<V.y?(V.y=J,V.y%2==0&&V.x--):V.y-=2,Z.y=V.y*ct,V.x=1+2*Math.ceil((V.y/rt-1)/2),Z.x=Math.round(Z.y/rt)),{height:Z.y,width:Z.x,hideYDots:V.y,hideXDots:V.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:k,maxHiddenAxisDots:e-14,dotSize:v}),$.label=2;case 2:return this.drawBackground(),this.drawDots(function(z,q){var Y,Q,J,ct,V,Z;return!(E._options.imageOptions.hideBackgroundDots&&z>=(e-b.hideXDots)/2&&z<(e+b.hideXDots)/2&&q>=(e-b.hideYDots)/2&&q<(e+b.hideYDots)/2||!((Y=ht[z])===null||Y===void 0)&&Y[q]||!((Q=ht[z-e+7])===null||Q===void 0)&&Q[q]||!((J=ht[z])===null||J===void 0)&&J[q-e+7]||!((ct=Ft[z])===null||ct===void 0)&&ct[q]||!((V=Ft[z-e+7])===null||V===void 0)&&V[q]||!((Z=Ft[z])===null||Z===void 0)&&Z[q-e+7])}),this.drawCorners(),this._options.image?[4,this.drawImage({width:b.width,height:b.height,count:e,dotSize:v})]:[3,4];case 3:$.sent(),$.label=4;case 4:return[2]}})})},I.prototype.drawBackground=function(){var a,e,h,p=this._element,v=this._options;if(p){var b=(a=v.backgroundOptions)===null||a===void 0?void 0:a.gradient,T=(e=v.backgroundOptions)===null||e===void 0?void 0:e.color;if((b||T)&&this._createColor({options:b,color:T,additionalRotation:0,x:0,y:0,height:v.height,width:v.width,name:"background-color"}),(h=v.backgroundOptions)===null||h===void 0?void 0:h.round){var _=Math.min(v.width,v.height),M=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),M.setAttribute("x",String((v.width-_)/2)),M.setAttribute("y",String((v.height-_)/2)),M.setAttribute("width",String(_)),M.setAttribute("height",String(_)),M.setAttribute("rx",String(_/2*v.backgroundOptions.round)),this._backgroundClipPath.appendChild(M)}}},I.prototype.drawDots=function(a){var e,h,p=this;if(!this._qr)throw"QR code is not defined";var v=this._options,b=this._qr.getModuleCount();if(b>v.width||b>v.height)throw"The canvas is too small.";var T=Math.min(v.width,v.height)-2*v.margin,_=v.shape===dt?T/Math.sqrt(2):T,M=Math.floor(_/b),A=Math.floor((v.width-b*M)/2),k=Math.floor((v.height-b*M)/2),E=new P({svg:this._element,type:v.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(e=v.dotsOptions)===null||e===void 0?void 0:e.gradient,color:v.dotsOptions.color,additionalRotation:0,x:0,y:0,height:v.height,width:v.width,name:"dot-color"});for(var $=function(wt){for(var tt=function(lt){return a&&!a(wt,lt)?"continue":!((h=z._qr)===null||h===void 0)&&h.isDark(wt,lt)?(E.draw(A+wt*M,k+lt*M,M,function(st,at){return!(wt+st<0||lt+at<0||wt+st>=b||lt+at>=b)&&!(a&&!a(wt+st,lt+at))&&!!p._qr&&p._qr.isDark(wt+st,lt+at)}),void(E._element&&z._dotsClipPath&&z._dotsClipPath.appendChild(E._element))):"continue"},ot=0;ot<b;ot++)tt(ot)},z=this,q=0;q<b;q++)$(q);if(v.shape===dt){var Y=Math.floor((T/M-b)/2),Q=b+2*Y,J=A-Y*M,ct=k-Y*M,V=[],Z=Math.floor(Q/2);for(q=0;q<Q;q++){V[q]=[];for(var rt=0;rt<Q;rt++)q>=Y-1&&q<=Q-Y&&rt>=Y-1&&rt<=Q-Y||Math.sqrt((q-Z)*(q-Z)+(rt-Z)*(rt-Z))>Z?V[q][rt]=0:V[q][rt]=this._qr.isDark(rt-2*Y<0?rt:rt>=b?rt-2*Y:rt-Y,q-2*Y<0?q:q>=b?q-2*Y:q-Y)?1:0}var X=function(wt){for(var tt=function(lt){if(!V[wt][lt])return"continue";E.draw(J+wt*M,ct+lt*M,M,function(st,at){var St;return!!(!((St=V[wt+st])===null||St===void 0)&&St[lt+at])}),E._element&&ft._dotsClipPath&&ft._dotsClipPath.appendChild(E._element)},ot=0;ot<Q;ot++)tt(ot)},ft=this;for(q=0;q<Q;q++)X(q)}},I.prototype.drawCorners=function(){var a=this;if(!this._qr)throw"QR code is not defined";var e=this._element,h=this._options;if(!e)throw"Element code is not defined";var p=this._qr.getModuleCount(),v=Math.min(h.width,h.height)-2*h.margin,b=h.shape===dt?v/Math.sqrt(2):v,T=Math.floor(b/p),_=7*T,M=3*T,A=Math.floor((h.width-p*T)/2),k=Math.floor((h.height-p*T)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(E){var $,z,q,Y,Q,J,ct,V,Z,rt,X,ft,wt=E[0],tt=E[1],ot=E[2],lt=A+wt*T*(p-7),st=k+tt*T*(p-7),at=a._dotsClipPath,St=a._dotsClipPath;if((!(($=h.cornersSquareOptions)===null||$===void 0)&&$.gradient||!((z=h.cornersSquareOptions)===null||z===void 0)&&z.color)&&((at=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+wt+"-"+tt),a._defs.appendChild(at),a._cornersSquareClipPath=a._cornersDotClipPath=St=at,a._createColor({options:(q=h.cornersSquareOptions)===null||q===void 0?void 0:q.gradient,color:(Y=h.cornersSquareOptions)===null||Y===void 0?void 0:Y.color,additionalRotation:ot,x:lt,y:st,height:_,width:_,name:"corners-square-color-"+wt+"-"+tt})),(Q=h.cornersSquareOptions)===null||Q===void 0?void 0:Q.type){var ut=new K({svg:a._element,type:h.cornersSquareOptions.type});ut.draw(lt,st,_,ot),ut._element&&at&&at.appendChild(ut._element)}else for(var gt=new P({svg:a._element,type:h.dotsOptions.type}),Lt=function(pt){for(var Mt=function(vt){if(!(!((J=ht[pt])===null||J===void 0)&&J[vt]))return"continue";gt.draw(lt+pt*T,st+vt*T,T,function(bt,qt){var yt;return!!(!((yt=ht[pt+bt])===null||yt===void 0)&&yt[vt+qt])}),gt._element&&at&&at.appendChild(gt._element)},Nt=0;Nt<ht[pt].length;Nt++)Mt(Nt)},mt=0;mt<ht.length;mt++)Lt(mt);if((!((ct=h.cornersDotOptions)===null||ct===void 0)&&ct.gradient||!((V=h.cornersDotOptions)===null||V===void 0)&&V.color)&&((St=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+wt+"-"+tt),a._defs.appendChild(St),a._cornersDotClipPath=St,a._createColor({options:(Z=h.cornersDotOptions)===null||Z===void 0?void 0:Z.gradient,color:(rt=h.cornersDotOptions)===null||rt===void 0?void 0:rt.color,additionalRotation:ot,x:lt+2*T,y:st+2*T,height:M,width:M,name:"corners-dot-color-"+wt+"-"+tt})),(X=h.cornersDotOptions)===null||X===void 0?void 0:X.type){var _t=new nt({svg:a._element,type:h.cornersDotOptions.type});_t.draw(lt+2*T,st+2*T,M,ot),_t._element&&St&&St.appendChild(_t._element)}else{gt=new P({svg:a._element,type:h.dotsOptions.type});var Dt=function(pt){for(var Mt=function(vt){if(!(!((ft=Ft[pt])===null||ft===void 0)&&ft[vt]))return"continue";gt.draw(lt+pt*T,st+vt*T,T,function(bt,qt){var yt;return!!(!((yt=Ft[pt+bt])===null||yt===void 0)&&yt[vt+qt])}),gt._element&&St&&St.appendChild(gt._element)},Nt=0;Nt<Ft[pt].length;Nt++)Mt(Nt)};for(mt=0;mt<Ft.length;mt++)Dt(mt)}})},I.prototype.loadImage=function(){var a=this;return new Promise(function(e,h){var p=a._options,v=new Image;if(!p.image)return h("Image is not defined");typeof p.imageOptions.crossOrigin=="string"&&(v.crossOrigin=p.imageOptions.crossOrigin),a._image=v,v.onload=function(){e()},v.src=p.image})},I.prototype.drawImage=function(a){var e=a.width,h=a.height,p=a.count,v=a.dotSize;return it(this,void 0,void 0,function(){var b,T,_,M,A,k,E,$,z;return At(this,function(q){switch(q.label){case 0:return b=this._options,T=Math.floor((b.width-p*v)/2),_=Math.floor((b.height-p*v)/2),M=T+b.imageOptions.margin+(p*v-e)/2,A=_+b.imageOptions.margin+(p*v-h)/2,k=e-2*b.imageOptions.margin,E=h-2*b.imageOptions.margin,($=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(M)),$.setAttribute("y",String(A)),$.setAttribute("width",k+"px"),$.setAttribute("height",E+"px"),[4,H(b.image||"")];case 1:return z=q.sent(),$.setAttribute("href",z||""),this._element.appendChild($),[2]}})})},I.prototype._createColor=function(a){var e=a.options,h=a.color,p=a.additionalRotation,v=a.x,b=a.y,T=a.height,_=a.width,M=a.name,A=_>T?_:T,k=document.createElementNS("http://www.w3.org/2000/svg","rect");if(k.setAttribute("x",String(v)),k.setAttribute("y",String(b)),k.setAttribute("height",String(T)),k.setAttribute("width",String(_)),k.setAttribute("clip-path","url('#clip-path-"+M+"')"),e){var E;if(e.type==="radial")(E=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",M),E.setAttribute("gradientUnits","userSpaceOnUse"),E.setAttribute("fx",String(v+_/2)),E.setAttribute("fy",String(b+T/2)),E.setAttribute("cx",String(v+_/2)),E.setAttribute("cy",String(b+T/2)),E.setAttribute("r",String(A/2));else{var $=((e.rotation||0)+p)%(2*Math.PI),z=($+2*Math.PI)%(2*Math.PI),q=v+_/2,Y=b+T/2,Q=v+_/2,J=b+T/2;z>=0&&z<=.25*Math.PI||z>1.75*Math.PI&&z<=2*Math.PI?(q-=_/2,Y-=T/2*Math.tan($),Q+=_/2,J+=T/2*Math.tan($)):z>.25*Math.PI&&z<=.75*Math.PI?(Y-=T/2,q-=_/2/Math.tan($),J+=T/2,Q+=_/2/Math.tan($)):z>.75*Math.PI&&z<=1.25*Math.PI?(q+=_/2,Y+=T/2*Math.tan($),Q-=_/2,J-=T/2*Math.tan($)):z>1.25*Math.PI&&z<=1.75*Math.PI&&(Y+=T/2,q+=_/2/Math.tan($),J-=T/2,Q-=_/2/Math.tan($)),(E=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",M),E.setAttribute("gradientUnits","userSpaceOnUse"),E.setAttribute("x1",String(Math.round(q))),E.setAttribute("y1",String(Math.round(Y))),E.setAttribute("x2",String(Math.round(Q))),E.setAttribute("y2",String(Math.round(J)))}e.colorStops.forEach(function(ct){var V=ct.offset,Z=ct.color,rt=document.createElementNS("http://www.w3.org/2000/svg","stop");rt.setAttribute("offset",100*V+"%"),rt.setAttribute("stop-color",Z),E.appendChild(rt)}),k.setAttribute("fill","url('#"+M+"')"),this._defs.appendChild(E)}else h&&k.setAttribute("fill",h);this._element.appendChild(k)},I}(),t="canvas";for(var n={},o=0;o<=40;o++)n[o]=o;const s={type:t,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:n[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var u=function(){return(u=Object.assign||function(I){for(var a,e=1,h=arguments.length;e<h;e++)for(var p in a=arguments[e])Object.prototype.hasOwnProperty.call(a,p)&&(I[p]=a[p]);return I}).apply(this,arguments)};function d(I){var a=u({},I);if(!a.colorStops||!a.colorStops.length)throw"Field 'colorStops' is required in gradient";return a.rotation?a.rotation=Number(a.rotation):a.rotation=0,a.colorStops=a.colorStops.map(function(e){return u(u({},e),{offset:Number(e.offset)})}),a}function m(I){var a=u({},I);return a.width=Number(a.width),a.height=Number(a.height),a.margin=Number(a.margin),a.imageOptions=u(u({},a.imageOptions),{hideBackgroundDots:!!a.imageOptions.hideBackgroundDots,imageSize:Number(a.imageOptions.imageSize),margin:Number(a.imageOptions.margin)}),a.margin>Math.min(a.width,a.height)&&(a.margin=Math.min(a.width,a.height)),a.dotsOptions=u({},a.dotsOptions),a.dotsOptions.gradient&&(a.dotsOptions.gradient=d(a.dotsOptions.gradient)),a.cornersSquareOptions&&(a.cornersSquareOptions=u({},a.cornersSquareOptions),a.cornersSquareOptions.gradient&&(a.cornersSquareOptions.gradient=d(a.cornersSquareOptions.gradient))),a.cornersDotOptions&&(a.cornersDotOptions=u({},a.cornersDotOptions),a.cornersDotOptions.gradient&&(a.cornersDotOptions.gradient=d(a.cornersDotOptions.gradient))),a.backgroundOptions&&(a.backgroundOptions=u({},a.backgroundOptions),a.backgroundOptions.gradient&&(a.backgroundOptions.gradient=d(a.backgroundOptions.gradient))),a}var f=F(192),r=F.n(f),l=function(I,a,e,h){return new(e||(e=Promise))(function(p,v){function b(M){try{_(h.next(M))}catch(A){v(A)}}function T(M){try{_(h.throw(M))}catch(A){v(A)}}function _(M){var A;M.done?p(M.value):(A=M.value,A instanceof e?A:new e(function(k){k(A)})).then(b,T)}_((h=h.apply(I,[])).next())})},L=function(I,a){var e,h,p,v,b={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return v={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function T(_){return function(M){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;b;)try{if(e=1,h&&(p=2&A[0]?h.return:A[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,A[1])).done)return p;switch(h=0,p&&(A=[2&A[0],p.value]),A[0]){case 0:case 1:p=A;break;case 4:return b.label++,{value:A[1],done:!1};case 5:b.label++,h=A[1],A=[0];continue;case 7:A=b.ops.pop(),b.trys.pop();continue;default:if(!((p=(p=b.trys).length>0&&p[p.length-1])||A[0]!==6&&A[0]!==2)){b=0;continue}if(A[0]===3&&(!p||A[1]>p[0]&&A[1]<p[3])){b.label=A[1];break}if(A[0]===6&&b.label<p[1]){b.label=p[1],p=A;break}if(p&&b.label<p[2]){b.label=p[2],b.ops.push(A);break}p[2]&&b.ops.pop(),b.trys.pop();continue}A=a.call(I,b)}catch(k){A=[6,k],h=0}finally{e=p=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([_,M])}}};const j=function(){function I(a){this._options=a?m(R(s,a)):s,this.update()}return I._clearContainer=function(a){a&&(a.innerHTML="")},I.prototype._setupSvg=function(){var a=this;if(this._qr){var e=new O(this._options);this._svg=e.getElement(),this._svgDrawingPromise=e.drawQR(this._qr).then(function(){var h;a._svg&&((h=a._extension)===null||h===void 0||h.call(a,e.getElement(),a._options))})}},I.prototype._setupCanvas=function(){var a,e=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=(a=this._svgDrawingPromise)===null||a===void 0?void 0:a.then(function(){if(e._svg){var h=e._svg,p=new XMLSerializer().serializeToString(h),v="data:image/svg+xml;base64,"+btoa(p),b=new Image;return new Promise(function(T){b.onload=function(){var _,M;(M=(_=e._canvas)===null||_===void 0?void 0:_.getContext("2d"))===null||M===void 0||M.drawImage(b,0,0),T()},b.src=v})}}))},I.prototype._getElement=function(a){return a===void 0&&(a="png"),l(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:if(!this._qr)throw"QR code is empty";return a.toLowerCase()!=="svg"?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return e.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return e.sent(),[2,this._canvas]}})})},I.prototype.update=function(a){I._clearContainer(this._container),this._options=a?m(R(this._options,a)):this._options,this._options.data&&(this._qr=r()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(e){switch(!0){case/^[0-9]*$/.test(e):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(e):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===t?this._setupCanvas():this._setupSvg(),this.append(this._container))},I.prototype.append=function(a){if(a){if(typeof a.appendChild!="function")throw"Container should be a single DOM node";this._options.type===t?this._canvas&&a.appendChild(this._canvas):this._svg&&a.appendChild(this._svg),this._container=a}},I.prototype.applyExtension=function(a){if(!a)throw"Extension function should be defined.";this._extension=a,this.update()},I.prototype.deleteExtension=function(){this._extension=void 0,this.update()},I.prototype.getRawData=function(a){return a===void 0&&(a="png"),l(this,void 0,void 0,function(){var e,h,p;return L(this,function(v){switch(v.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(a)];case 1:return(e=v.sent())?a.toLowerCase()==="svg"?(h=new XMLSerializer,p=h.serializeToString(e),[2,new Blob([`<?xml version="1.0" standalone="no"?>\r
`+p],{type:"image/svg+xml"})]):[2,new Promise(function(b){return e.toBlob(b,"image/"+a,1)})]:[2,null]}})})},I.prototype.download=function(a){return l(this,void 0,void 0,function(){var e,h,p,v,b;return L(this,function(T){switch(T.label){case 0:if(!this._qr)throw"QR code is empty";return e="png",h="qr",typeof a=="string"?(e=a,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof a=="object"&&a!==null&&(a.name&&(h=a.name),a.extension&&(e=a.extension)),[4,this._getElement(e)];case 1:return(p=T.sent())?(e.toLowerCase()==="svg"?(v=new XMLSerializer,b=`<?xml version="1.0" standalone="no"?>\r
`+(b=v.serializeToString(p)),et("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(b),h+".svg")):et(p.toDataURL("image/"+e),h+"."+e),[2]):[2]}})})},I}()}},S={};function B(g){if(S[g])return S[g].exports;var C=S[g]={exports:{}};return y[g](C,C.exports,B),C.exports}return B.n=g=>{var C=g&&g.__esModule?()=>g.default:()=>g;return B.d(C,{a:C}),C},B.d=(g,C)=>{for(var F in C)B.o(C,F)&&!B.o(g,F)&&Object.defineProperty(g,F,{enumerable:!0,get:C[F]})},B.o=(g,C)=>Object.prototype.hasOwnProperty.call(g,C),B(676)})().default})}(Oe)),Oe.exports}export{fa as a,ha as b,ca as e,la as r};
